// SPDX-License-Identifier: MIT
pragma solidity >=0.8.23 <0.9.0;

// Interfaces
import { IERC7579Account } from "../../accounts/common/interfaces/IERC7579Account.sol";
import { IERC7579Bootstrap } from "../../accounts/erc7579/interfaces/IERC7579Bootstrap.sol";
import { IMSA } from "../../accounts/erc7579/interfaces/IMSA.sol";

// Utils
import { BytecodeDeployer } from "./BytecodeDeployer.sol";

interface RhinestoneBootstrap {
    function init() external;
}

/// @notice Precompiled erc7579 contracts
contract ERC7579Precompiles is BytecodeDeployer {
    /*//////////////////////////////////////////////////////////////
                                 DEPLOY
    //////////////////////////////////////////////////////////////*/

    function deployERC7579Account() internal returns (IERC7579Account) {
        return IERC7579Account(_deploy(ERC7579_BYTECODE));
    }

    function deployMSAPRoxy(
        bytes32 salt,
        address implementation,
        bytes memory initCode
    )
        internal
        returns (address)
    {
        return _deploy2(
            bytes.concat(
                MSAPROXY_BYTECODE,
                abi.encode(
                    implementation,
                    abi.encodeWithSelector(IMSA.initializeAccount.selector, initCode)
                )
            ),
            salt
        );
    }

    function deployERC7579Bootstrap() internal returns (IERC7579Bootstrap) {
        return IERC7579Bootstrap(_deploy(ERC7579_BOOTSTRAP_BYTECODE));
    }

    function deployRhinestoneBootstrap() internal returns (RhinestoneBootstrap) {
        return RhinestoneBootstrap(_deploy(ERC7579_RHINESTONE_TRAMPOLOINE_BYTECODE));
    }

    /*//////////////////////////////////////////////////////////////
                            BYTECODES
    //////////////////////////////////////////////////////////////*/

    /* solhint-disable max-line-length */
    bytes public constant ERC7579_BYTECODE =
        hex"6080604052348015600e575f5ffd5b5061424e8061001c5f395ff3fe60806040526004361061012d575f3560e01c80639517e29f116100aa578063d691c9641161006e578063d691c9641461048d578063e9ae5c53146104ad578063ea5f61d0146104c0578063eab77e17146104df578063eac9b20d146104fe578063f2dc691d1461054b57610134565b80639517e29f146103db5780639cfd7cff146103ee578063a71763a814610439578063b0d691fe1461044c578063d03c79141461046e57610134565b8063492a88a2116100f1578063492a88a2146103535780634b6a1419146103675780635faac46b1461037a5780638626e88b146103a75780638dd7712f146103c857610134565b80630a664dba1461027b578063112d3a7d146102ac5780631626ba7e146102db57806319822f7c146103135780631de6f24f1461033457610134565b3661013457005b5f3560e01c63bc197c81811463f23a6e6182141763150b7a028214171561015f57806020526020603cf35b505f61016961056a565b5f80356001600160e01b03191681526002919091016020526040902080549091506001600160a01b03811690600160a01b900460f81b816101cf57604051632464e76d60e11b81526001600160e01b03195f351660048201526024015b60405180910390fd5b6101dd81607f60f91b61058e565b1561022e5760408051368101909152365f823760408051601481019091523360601b90525f803660140183865afa905061021d3d60408051918201905290565b3d5f823e8161022a573d81fd5b3d81f35b610238815f61058e565b156102795760408051368101909152365f823760408051601481019091523360601b90525f80366014018382875af1905061021d3d60408051918201905290565b005b348015610286575f5ffd5b5061028f6105a5565b6040516001600160a01b0390911681526020015b60405180910390f35b3480156102b7575f5ffd5b506102cb6102c636600461375f565b6105c0565b60405190151581526020016102a3565b3480156102e6575f5ffd5b506102fa6102f53660046137b6565b610641565b6040516001600160e01b031990911681526020016102a3565b6103266103213660046138e2565b610725565b6040519081526020016102a3565b34801561033f575f5ffd5b5061028f61034e366004613a16565b61088c565b34801561035e575f5ffd5b506102cb610896565b610279610375366004613a2d565b6108c5565b348015610385575f5ffd5b50610399610394366004613a6b565b610968565b6040516102a3929190613a95565b3480156103b2575f5ffd5b506103bb61098e565b6040516102a39190613af7565b6102796103d6366004613b39565b610a05565b6102796103e936600461375f565b610ad0565b3480156103f9575f5ffd5b50604080518082018252601b81527f754d53412e616476616e6365642f77697468486f6f6b2e76302e310000000000602082015290516102a39190613b9f565b61027961044736600461375f565b610fa3565b348015610457575f5ffd5b506f71727de22e5e9d8baf0edac6f37da03261028f565b348015610479575f5ffd5b506102cb610488366004613a16565b611248565b6104a061049b3660046137b6565b6112e3565b6040516102a39190613bb1565b6102796104bb3660046137b6565b6119ef565b3480156104cb575f5ffd5b506103996104da366004613a6b565b611e2a565b3480156104ea575f5ffd5b506102796104f9366004613c14565b611e46565b348015610509575f5ffd5b5061051d610518366004613cc2565b611f03565b6040805182516001600160a01b031681526020928301516001600160f81b03191692810192909252016102a3565b348015610556575f5ffd5b506102cb610565366004613a16565b611f70565b7fe3a55571e8f241b58442871487cc151a8cb048bb4ad24e833467f724ec89a90090565b6001600160f81b0319828116908216145b92915050565b5f6105bb5f5160206141d95f395f51905f525490565b905090565b5f600185036105d9576105d284611fd9565b9050610639565b600285036105ea576105d284611ff6565b60038503610607576105d261060183850185613cc2565b8561200f565b60048503610618576105d28461204b565b60088514806106275750600985145b15610636576105d2848661207b565b505f5b949350505050565b5f806106506014828587613cdd565b61065991613d04565b60601c905061066781611fd9565b61068f57604051635c93ff2f60e11b81526001600160a01b03821660048201526024016101c6565b60606106a7866106a2866014818a613cdd565b6120a0565b604051637aa8f17760e11b815291975091506001600160a01b0383169063f551e2ee906106dc9033908a908690600401613d44565b602060405180830381865afa1580156106f7573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061071b9190613d73565b9695505050505050565b5f336f71727de22e5e9d8baf0edac6f37da0321461075657604051635629665f60e11b815260040160405180910390fd5b60208401518290606081901c9061076c82611fd9565b6107ed57610778612186565b6107e2575f6107b96107ae886020527b19457468657265756d205369676e6564204d6573736167653a0a33325f52603c60042090565b8961010001516121b2565b90506001600160a01b03811630146107d75760019450505050610874565b5f9450505050610874565b600193505050610874565b6107f886888761223e565b610100890152604051639700320360e01b81529096506001600160a01b0383169063970032039061082f908a908a90600401613e2e565b6020604051808303815f875af115801561084b573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061086f9190613e4f565b935050505b8015610884575f385f3884335af1505b509392505050565b5f61059f8261229c565b5f3330146108b757604051630e93a1f960e01b815260040160405180910390fd5b6108bf6122f8565b50600190565b3330146108d4576108d461232f565b6108dc6123a1565b303f7feadcdba66a79ab5dce91622d1d75c8cff5cff0b96944c3bf1072cd08ce0183291480156109455761092f7fe3a55571e8f241b58442871487cc151a8cb048bb4ad24e833467f724ec89a9006123c4565b6109455f5160206141d95f395f51905f526123c4565b5f8061095384860186613e66565b915091506109618282612417565b5050505050565b60605f5f61097461056a565b905061098181868661247f565b92509250505b9250929050565b7fc473de86d0138e06e4d4918a106463a7cc005258d2e21915272bcb4594c189008054604080516020808402820181019092528281526060939290918391908301828280156109fa57602002820191905f5260205f20905b8154815260200190600101908083116109e6575b505050505091505090565b336f71727de22e5e9d8baf0edac6f37da03214610a3557604051635629665f60e11b815260040160405180910390fd5b365f610a446060850185613eb2565b610a52916004908290613cdd565b915091505f306001600160a01b03168383604051610a71929190613ef4565b5f60405180830381855af49150503d805f8114610aa9576040519150601f19603f3d011682016040523d82523d5f602084013e610aae565b606091505b505090508061096157604051632b3f6d1160e21b815260040160405180910390fd5b336f71727de22e5e9d8baf0edac6f37da0321480610aed57503330145b610b0a57604051635629665f60e11b815260040160405180910390fd5b5f610b205f5160206141d95f395f51905f525490565b90506001600160a01b038116610cff575f54849086906001600160a01b03168015610ba2576040516396fb721760e01b81526001600160a01b038481166004830152602482018490528216906396fb7217906044015f6040518083038186803b158015610b8b575f5ffd5b505afa158015610b9d573d5f5f3e3d5ffd5b505050505b60405163ecd0596160e01b8152600481018990526001600160a01b0388169063ecd0596190602401602060405180830381865afa158015610be5573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610c099190613f03565b610c29576040516369c9a24560e11b8152600481018990526024016101c6565b60018803610c4157610c3c878787612626565b610cb6565b60028803610c5457610c3c878787612669565b60038803610c6757610c3c878787612681565b60048803610c7a57610c3c8787876127ff565b6008881480610c895750600988145b15610c9a57610c3c8789888861285f565b60405163041c38b360e41b8152600481018990526024016101c6565b604080518981526001600160a01b03891660208201527fd21d0b289f126c4b473ea641963e766833c2f13866e4ff480abd787c100ef123910160405180910390a1505050610961565b60405163d68f602560e01b81525f906001600160a01b0383169063d68f602590610d33903390349086903690600401613f4a565b5f604051808303815f875af1158015610d4e573d5f5f3e3d5ffd5b505050506040513d5f823e601f3d908101601f19168201604052610d759190810190613fbe565b5f54909150859087906001600160a01b03168015610dea576040516396fb721760e01b81526001600160a01b038481166004830152602482018490528216906396fb7217906044015f6040518083038186803b158015610dd3575f5ffd5b505afa158015610de5573d5f5f3e3d5ffd5b505050505b60405163ecd0596160e01b8152600481018a90526001600160a01b0389169063ecd0596190602401602060405180830381865afa158015610e2d573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610e519190613f03565b610e71576040516369c9a24560e11b8152600481018a90526024016101c6565b60018903610e8957610e84888888612626565b610efe565b60028903610e9c57610e84888888612669565b60038903610eaf57610e84888888612681565b60048903610ec257610e848888886127ff565b6008891480610ed15750600989145b15610ee257610e84888a898961285f565b60405163041c38b360e41b8152600481018a90526024016101c6565b604080518a81526001600160a01b038a1660208201527fd21d0b289f126c4b473ea641963e766833c2f13866e4ff480abd787c100ef123910160405180910390a15050604051630b9dfbed60e11b81526001600160a01b038416915063173bf7da90610f6e908490600401613b9f565b5f604051808303815f87803b158015610f85575f5ffd5b505af1158015610f97573d5f5f3e3d5ffd5b50505050505050505050565b336f71727de22e5e9d8baf0edac6f37da0321480610fc057503330145b610fdd57604051635629665f60e11b815260040160405180910390fd5b5f610ff35f5160206141d95f395f51905f525490565b90506001600160a01b0381166110d6576001850361101b57611016848484612965565b611090565b6002850361102e576110168484846129ba565b60038503611041576110168484846129d6565b6004850361105457611016848484612bdb565b60088514806110635750600985145b156110745761101684868585612c50565b60405163041c38b360e41b8152600481018690526024016101c6565b604080518681526001600160a01b03861660208201527f341347516a9de374859dfda710fa4828b2d48cb57d4fbe4c1149612b8e02276e910160405180910390a1610961565b60405163d68f602560e01b81525f906001600160a01b0383169063d68f60259061110a903390349086903690600401613f4a565b5f604051808303815f875af1158015611125573d5f5f3e3d5ffd5b505050506040513d5f823e601f3d908101601f1916820160405261114c9190810190613fbe565b90506001860361116657611161858585612965565b6111db565b60028603611179576111618585856129ba565b6003860361118c576111618585856129d6565b6004860361119f57611161858585612bdb565b60088614806111ae5750600986145b156111bf5761116185878686612c50565b60405163041c38b360e41b8152600481018790526024016101c6565b604080518781526001600160a01b03871660208201527f341347516a9de374859dfda710fa4828b2d48cb57d4fbe4c1149612b8e02276e910160405180910390a1604051630b9dfbed60e11b81526001600160a01b0383169063173bf7da90610f6e908490600401613b9f565b5f81600881901b61125d82600160f81b61058e565b1561126b57600192506112ac565b611275825f61058e565b1561128357600192506112ac565b611295826001600160f81b031961058e565b156112a357600192506112ac565b505f9392505050565b6112b6815f61058e565b156112c457600192506112dc565b6112d281600160f81b61058e565b156112a357600192505b5050919050565b60605f6112ee61056a565b60010190506112fd8133612d44565b61131c57604051635c93ff2f60e11b81523360048201526024016101c6565b5f6113325f5160206141d95f395f51905f525490565b90506001600160a01b038116611669575f5433906002906001600160a01b031680156113b5576040516396fb721760e01b81526001600160a01b038481166004830152602482018490528216906396fb7217906044015f6040518083038186803b15801561139e575f5ffd5b505afa1580156113b0573d5f5f3e3d5ffd5b505050505b88600881901b6113c982600160f81b61058e565b1561143e57365f6113da8c8c612d7c565b90925090506113e9835f61058e565b156113ff576113f88282612e12565b9950611437565b61140d83600160f81b61058e565b1561141c576113f88282612ee9565b826040516308c3ee0360e11b81526004016101c69190613fef565b505061165f565b611448825f61058e565b1561158f575f5f365f61145b8e8e613014565b6040805160018082528183019092529498509296509094509250816020015b606081526020019060019003908161147a579050509b505f61149c868261058e565b156114cf576114ad85858585613064565b8d5f815181106114bf576114bf614004565b6020026020010181905250611585565b6114dd86600160f81b61058e565b1561156a576114ee85858585613097565b8e5f8151811061150057611500614004565b6020908102919091010152905080611565577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb75f8e5f8151811061154657611546614004565b602002602001015160405161155c929190614018565b60405180910390a15b611585565b856040516308c3ee0360e11b81526004016101c69190613fef565b505050505061165f565b6115a1826001600160f81b031961058e565b15611644575f6115b46014828c8e613cdd565b6115bd91613d04565b60601c9050365f8c8c60149080926115d793929190613cdd565b90925090506115e6845f61058e565b156115fc576115f68383836130c5565b5061163c565b61160a84600160f81b61058e565b156116215761161a8383836130f6565b505061163c565b836040516308c3ee0360e11b81526004016101c69190613fef565b50505061165f565b81604051632e5bf3f960e21b81526004016101c69190613fef565b50505050506119e6565b60405163d68f602560e01b81525f906001600160a01b0383169063d68f60259061169d903390349086903690600401613f4a565b5f604051808303815f875af11580156116b8573d5f5f3e3d5ffd5b505050506040513d5f823e601f3d908101601f191682016040526116df9190810190613fbe565b5f5490915033906002906001600160a01b03168015611755576040516396fb721760e01b81526001600160a01b038481166004830152602482018490528216906396fb7217906044015f6040518083038186803b15801561173e575f5ffd5b505afa158015611750573d5f5f3e3d5ffd5b505050505b89600881901b61176982600160f81b61058e565b156117c357365f61177a8d8d612d7c565b9092509050611789835f61058e565b1561179f576117988282612e12565b9a506117bc565b6117ad83600160f81b61058e565b1561141c576117988282612ee9565b5050611986565b6117cd825f61058e565b156118f4575f5f365f6117e08f8f613014565b6040805160018082528183019092529498509296509094509250816020015b60608152602001906001900390816117ff579050509c505f611821868261058e565b156118545761183285858585613064565b8e5f8151811061184457611844614004565b60200260200101819052506118ea565b61186286600160f81b61058e565b1561156a5761187385858585613097565b8f5f8151811061188557611885614004565b60209081029190910101529050806118ea577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb75f8f5f815181106118cb576118cb614004565b60200260200101516040516118e1929190614018565b60405180910390a15b5050505050611986565b611906826001600160f81b031961058e565b15611644575f6119196014828d8f613cdd565b61192291613d04565b60601c9050365f8d8d601490809261193c93929190613cdd565b909250905061194b845f61058e565b156119615761195b8383836130c5565b50611982565b61196f84600160f81b61058e565b156116215761197f8383836130f6565b50505b5050505b5050604051630b9dfbed60e11b81526001600160a01b038616935063173bf7da92506119b791508490600401613b9f565b5f604051808303815f87803b1580156119ce575f5ffd5b505af11580156119e0573d5f5f3e3d5ffd5b50505050505b50509392505050565b336f71727de22e5e9d8baf0edac6f37da0321480611a0c57503330145b611a2957604051635629665f60e11b815260040160405180910390fd5b5f611a3f5f5160206141d95f395f51905f525490565b90506001600160a01b038116611be25783600881901b611a6382600160f81b61058e565b15611abc57365f611a748787612d7c565b9092509050611a83835f61058e565b15611a9857611a928282612e12565b50611ab5565b611aa683600160f81b61058e565b1561141c57611a928282612ee9565b5050611bdb565b611ac6825f61058e565b15611b4f575f5f365f611ad98989613014565b9350935093509350611aee855f60f81b61058e565b15611b0557611aff84848484613064565b50611b46565b611b1385600160f81b61058e565b15611b2b57611b2484848484613097565b5050611b46565b846040516308c3ee0360e11b81526004016101c69190613fef565b50505050611bdb565b611b61826001600160f81b031961058e565b15611644575f611b746014828789613cdd565b611b7d91613d04565b60601c9050365f611b91876014818b613cdd565b9092509050611ba0845f61058e565b15611bb657611bb08383836130c5565b50611bd7565b611bc484600160f81b61058e565b1561162157611bd48383836130f6565b50505b5050505b5050611e24565b60405163d68f602560e01b81525f906001600160a01b0383169063d68f602590611c16903390349086903690600401613f4a565b5f604051808303815f875af1158015611c31573d5f5f3e3d5ffd5b505050506040513d5f823e601f3d908101601f19168201604052611c589190810190613fbe565b905084600881901b611c6e82600160f81b61058e565b15611cc757365f611c7f8888612d7c565b9092509050611c8e835f61058e565b15611ca357611c9d8282612e12565b50611cc0565b611cb183600160f81b61058e565b1561141c57611c9d8282612ee9565b5050611dc7565b611cd1825f61058e565b15611d3b575f5f365f611ce48a8a613014565b9350935093509350611cf9855f60f81b61058e565b15611d1057611d0a84848484613064565b50611d32565b611d1e85600160f81b61058e565b15611b2b57611d2f84848484613097565b50505b50505050611dc7565b611d4d826001600160f81b031961058e565b15611644575f611d60601482888a613cdd565b611d6991613d04565b60601c9050365f611d7d886014818c613cdd565b9092509050611d8c845f61058e565b15611da257611d9c8383836130c5565b50611dc3565b611db084600160f81b61058e565b1561162157611dc08383836130f6565b50505b5050505b5050604051630b9dfbed60e11b81526001600160a01b0383169063173bf7da90611df5908490600401613b9f565b5f604051808303815f87803b158015611e0c575f5ffd5b505af1158015611e1e573d5f5f3e3d5ffd5b50505050505b50505050565b60605f5f611e3661056a565b600101905061098181868661247f565b336f71727de22e5e9d8baf0edac6f37da0321480611e6357503330145b611e8057604051635629665f60e11b815260040160405180910390fd5b5f80546001600160a01b0319166001600160a01b0386161790558115611e245760405163f05c04e160e01b81526001600160a01b0385169063f05c04e190611ed090849087908790600401614030565b5f604051808303815f87803b158015611ee7575f5ffd5b505af1158015611ef9573d5f5f3e3d5ffd5b5050505050505050565b604080518082019091525f8082526020820152611f1e61056a565b6001600160e01b0319929092165f908152600290920160209081526040928390208351808501909452546001600160a01b0381168452600160a01b900460f81b6001600160f81b031916908301525090565b5f60018203611f8157506001919050565b60028203611f9157506001919050565b60038203611fa157506001919050565b60048203611fb157506001919050565b6008821480611fc05750600982145b15611fcd57506001919050565b505f919050565b919050565b5f5f611fe361056a565b9050611fef8184612d44565b9392505050565b5f5f61200061056a565b6001019050611fef8184612d44565b5f5f61201961056a565b6001600160e01b0319949094165f908152600290940160205250506040909120546001600160a01b0390811691161490565b5f816001600160a01b031661206b5f5160206141d95f395f51905f525490565b6001600160a01b03161492915050565b5f826001600160a01b031661208f8361229c565b6001600160a01b0316149392505050565b5f60605f6120ae600861229c565b90506001600160a01b0381166121055785858581818080601f0160208091040260200160405190810160405280939291908181526020018383808284375f9201919091525095985091965061217e95505050505050565b604051637a0468b760e01b81526001600160a01b03821690637a0468b7906121379033908a908a908a90600401613f4a565b5f60405180830381865afa158015612151573d5f5f3e3d5ffd5b505050506040513d5f823e601f3d908101601f191682016040526121789190810190614087565b92509250505b935093915050565b5f5f61219061056a565b60015f90815260209190915260409020546001600160a01b0316151592915050565b5f6040518251604081146121ce57604181146121ef575061222a565b604084015160ff81901c601b016020526001600160ff1b0316606052612202565b60608401515f1a60205260408401516060525b50835f5260208301516040526020600160805f60015afa5191505f606052806040523d612237575b638baa579f5f526004601cfd5b5092915050565b5f60605f61224c600961229c565b90506001600160a01b03811661226c57505050610100820151839061217e565b60405163e24f8f9360e01b81526001600160a01b0382169063e24f8f939061213790889088908b906004016140c0565b5f5f5160206141f95f395f51905f5260071983016122c457546001600160a01b031692915050565b600983036122df57600101546001600160a01b031692915050565b604051635691922f60e01b815260040160405180910390fd5b612300613122565b61230861320a565b6123256123205f5160206141d95f395f51905f525490565b6132f5565b61232d6123a1565b565b5f60ff1961235e60017ff63b257b7881773a84d328ab92140e19ab791f7b439c76ba9837aa0d6ad30af06140f8565b60405160200161237091815260200190565b60405160208183030381529060405280519060200120169050805c8061239d5763aed595955f526004601cfd5b5050565b5f6123aa61056a565b90506123b8816001016133bc565b6123c1816133bc565b50565b7fc473de86d0138e06e4d4918a106463a7cc005258d2e21915272bcb4594c1890080546001810182555f919091527fdb3901c0862740f848a4aebebd6b3d645e6b3bc6adf2cf46e83a846b3a3439330155565b5f826001600160a01b031682604051612430919061410b565b5f60405180830381855af49150503d805f8114612468576040519150601f19603f3d011682016040523d82523d5f602084013e61246d565b606091505b505090508061247a575f5ffd5b505050565b60605f6001600160a01b0384166001148015906124a357506124a18585612d44565b155b156124cc57604051637c84ecfb60e01b81526001600160a01b03851660048201526024016101c6565b825f036124ec5760405163f725081760e01b815260040160405180910390fd5b826001600160401b03811115612504576125046137fd565b60405190808252806020026020018201604052801561252d578160200160208202803683370190505b506001600160a01b038086165f90815260208890526040812054929450911691505b6001600160a01b0382161580159061257157506001600160a01b038216600114155b801561257c57508381105b156125d5578183828151811061259457612594614004565b6001600160a01b039283166020918202929092018101919091529281165f9081529287905260409092205490911690806125cd81614121565b91505061254f565b6001600160a01b0382166001148015906125ee57505f81115b1561261a57826125ff6001836140f8565b8151811061260f5761260f614004565b602002602001015191505b80835250935093915050565b5f61262f61056a565b905061263b8185613417565b6040516306d61fe760e41b81526001600160a01b03851690636d61fe7090611ed09086908690600401614139565b5f61267261056a565b600101905061263b8185613417565b5f61268f6004828486613cdd565b6126989161414c565b90505f838360048181106126ae576126ae614004565b909101356001600160f81b03191691505f90506126ce8460058188613cdd565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f9201919091525092935061271092508591506134eb9050565b1561275d5760405162461bcd60e51b815260206004820152601e60248201527f46756e6374696f6e2073656c6563746f7220616c72656164792075736564000060448201526064016101c6565b604080518082019091526001600160a01b03871681526001600160f81b03198316602082015261278b61056a565b6001600160e01b031985165f908152600291909101602090815260409182902083518154949092015160f81c600160a01b026001600160a81b03199094166001600160a01b039283161793909317909255516306d61fe760e41b815290871690636d61fe7090610f6e908490600401613b9f565b5f6128155f5160206141d95f395f51905f525490565b90506001600160a01b0381161561284a5760405163741cbe0360e01b81526001600160a01b03821660048201526024016101c6565b61263b845f5160206141d95f395f51905f5255565b5f5160206141f95f395f51905f525f6128778561229c565b90506001600160a01b038116156128ac5760405163786ae23560e01b81526001600160a01b03821660048201526024016101c6565b6128b68686613523565b600885036129215781546040516306d61fe760e41b81526001600160a01b0390911690636d61fe70906128ef9087908790600401614139565b5f604051808303815f87803b158015612906575f5ffd5b505af1158015612918573d5f5f3e3d5ffd5b5050505061295d565b6009850361295d5760018201546040516306d61fe760e41b81526001600160a01b0390911690636d61fe7090610f6e9087908790600401614139565b505050505050565b5f61296e61056a565b90505f8061297e84860186613e66565b909250905061298e838388613586565b604051638a91b0e360e01b81526001600160a01b03871690638a91b0e390610f6e908490600401613b9f565b5f6129c361056a565b60010190505f8061297e84860186613e66565b5f6129e46004828486613cdd565b6129ed9161414c565b90505f6129fd8360048187613cdd565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92019190915250929350612a3f92508491506134eb9050565b612a8b5760405162461bcd60e51b815260206004820152601a60248201527f46756e6374696f6e2073656c6563746f72206e6f74207573656400000000000060448201526064016101c6565b5f612a9461056a565b6001600160e01b031984165f90815260029190910160209081526040918290208251808401909352546001600160a01b03808216808552600160a01b90920460f81b6001600160f81b03191692840192909252919250871614612b4c5760405162461bcd60e51b815260206004820152602a60248201527f46756e6374696f6e2073656c6563746f72206e6f74207573656420627920746860448201526934b9903430b7323632b960b11b60648201526084016101c6565b604080518082019091525f8082526020820152612b6761056a565b6001600160e01b031985165f908152600291909101602090815260409182902083518154949092015160f81c600160a01b026001600160a81b03199094166001600160a01b03928316179390931790925551638a91b0e360e01b815290871690638a91b0e390610f6e908590600401613b9f565b612bf05f5f5160206141d95f395f51905f5255565b604051638a91b0e360e01b81526001600160a01b03841690638a91b0e390612c1e9085908590600401614139565b5f604051808303815f87803b158015612c35575f5ffd5b505af1158015612c47573d5f5f3e3d5ffd5b50505050505050565b5f5160206141f95f395f51905f52600884148015612c7a575080546001600160a01b038681169116145b15612ce2578054604051638a91b0e360e01b81526001600160a01b0390911690638a91b0e390612cb09086908690600401614139565b5f604051808303815f87803b158015612cc7575f5ffd5b505af1158015612cd9573d5f5f3e3d5ffd5b50505050612d3a565b600984148015612d01575060018101546001600160a01b038681169116145b156122df576001810154604051638a91b0e360e01b81526001600160a01b0390911690638a91b0e390612cb09086908690600401614139565b6109615f85613523565b5f60016001600160a01b03831614801590611fef5750506001600160a01b039081165f90815260209290925260409091205416151590565b365f833580850160208587010360208201945081359350808460051b8301118360401c1715612db25763ba597e7e5f526004601cfd5b8315612e08578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c1715612dff5763ba597e7e5f526004601cfd5b50505082612dbc575b5050509250929050565b606081806001600160401b03811115612e2d57612e2d6137fd565b604051908082528060200260200182016040528015612e6057816020015b6060815260200190600190039081612e4b5790505b5091505f5b81811015612ee15736858583818110612e8057612e80614004565b9050602002810190612e929190614182565b9050612ebb612ea460208301836141a0565b6020830135612eb66040850185613eb2565b613064565b848381518110612ecd57612ecd614004565b602090810291909101015250600101612e65565b505092915050565b606081806001600160401b03811115612f0457612f046137fd565b604051908082528060200260200182016040528015612f3757816020015b6060815260200190600190039081612f225790505b5091505f5b81811015612ee15736858583818110612f5757612f57614004565b9050602002810190612f699190614182565b90505f612f93612f7c60208401846141a0565b6020840135612f8e6040860186613eb2565b613097565b868581518110612fa557612fa5614004565b602090810291909101015290508061300a577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb783868581518110612feb57612feb614004565b6020026020010151604051613001929190614018565b60405180910390a15b5050600101612f3c565b5f8036816130256014828789613cdd565b61302e91613d04565b60601c9350613041603460148789613cdd565b61304a916141bb565b92506130598560348189613cdd565b949793965094505050565b604051818382375f38838387895af161307f573d5f823e3d81fd5b3d8152602081013d5f823e3d01604052949350505050565b6040515f90828482375f388483888a5af191503d8152602081013d5f823e3d81016040525094509492505050565b604051818382375f388383875af46130df573d5f823e3d81fd5b3d8152602081013d5f823e3d016040529392505050565b6040515f90828482375f388483885af491503d8152602081013d5f823e3d810160405250935093915050565b5f61312b61056a565b90505f613139826001613659565b90505b6001600160a01b03811660011461320157604051638a91b0e360e01b8152602060048201525f60248201526001600160a01b03821690638a91b0e3906044015f604051808303815f87803b158015613192575f5ffd5b505af19250505080156131a3575060015b6131f057604080516001600160a01b0383168152602081018290525f8183015290517f6c31ee2929752d85a6dc461efcf817aa81394aff41db1856ebfd71679fffc5709181900360600190a15b6131fa8282613659565b905061313c565b61239d826136ac565b5f61321361056a565b60010190505f61322d60018361365990919063ffffffff16565b90505b6001600160a01b03811660011461320157604051638a91b0e360e01b8152602060048201525f60248201526001600160a01b03821690638a91b0e3906044015f604051808303815f87803b158015613286575f5ffd5b505af1925050508015613297575060015b6132e457604080516001600160a01b0383168152602081018290525f8183015290517ffdea4600cf09065ff861064d4cd43cde3fae2134d9fbe6d66fd77cc67135c8829181900360600190a15b6132ee8282613659565b9050613230565b6001600160a01b038116156123c157604051638a91b0e360e01b8152602060048201525f60248201526001600160a01b03821690638a91b0e3906044015f604051808303815f87803b158015613349575f5ffd5b505af192505050801561335a575060015b6133a757604080516001600160a01b0383168152602081018290525f8183015290517f57af23cbd8e148da6020d15e1ff9fb3c531aa9003d6bab6915013a7d8fd032369181900360600190a15b6123c15f5f5160206141d95f395f51905f5255565b60015f908152602082905260409020546001600160a01b0316156133f3576040516329e42f3360e11b815260040160405180910390fd5b60015f818152602092909252604090912080546001600160a01b0319169091179055565b6001600160a01b038116158061343657506001600160a01b0381166001145b1561345f57604051637c84ecfb60e01b81526001600160a01b03821660048201526024016101c6565b6001600160a01b038181165f9081526020849052604090205416156134a257604051631034f46960e21b81526001600160a01b03821660048201526024016101c6565b60015f818152602093909352604080842080546001600160a01b039485168087529286208054959091166001600160a01b03199586161790559190935280549091169091179055565b5f5f6134f561056a565b6001600160e01b03199093165f908152600293909301602052505060409020546001600160a01b0316151590565b5f5160206141f95f395f51905f52600719820161355a5780546001600160a01b0384166001600160a01b0319909116178155505050565b600982036122df576001810180546001600160a01b0385166001600160a01b0319909116179055505050565b6001600160a01b03811615806135a557506001600160a01b0381166001145b156135ce57604051637c84ecfb60e01b81526001600160a01b03831660048201526024016101c6565b6001600160a01b038281165f9081526020859052604090205481169082161461361557604051637c84ecfb60e01b81526001600160a01b03821660048201526024016101c6565b6001600160a01b039081165f8181526020949094526040808520805494841686529085208054949093166001600160a01b0319948516179092559092528154169055565b5f6001600160a01b03821661368c57604051637c84ecfb60e01b81526001600160a01b03831660048201526024016101c6565b506001600160a01b039081165f9081526020929092526040909120541690565b60015f908152602082905260409020546001600160a01b03165b6001600160a01b0381161561239d576001600160a01b039081165f90815260208390526040902080546001600160a01b03198116909155166136c6565b6001600160a01b03811681146123c1575f5ffd5b8035611fd481613703565b5f5f83601f840112613732575f5ffd5b5081356001600160401b03811115613748575f5ffd5b602083019150836020828501011115610987575f5ffd5b5f5f5f5f60608587031215613772575f5ffd5b84359350602085013561378481613703565b925060408501356001600160401b0381111561379e575f5ffd5b6137aa87828801613722565b95989497509550505050565b5f5f5f604084860312156137c8575f5ffd5b8335925060208401356001600160401b038111156137e4575f5ffd5b6137f086828701613722565b9497909650939450505050565b634e487b7160e01b5f52604160045260245ffd5b60405161012081016001600160401b0381118282101715613834576138346137fd565b60405290565b604051601f8201601f191681016001600160401b0381118282101715613862576138626137fd565b604052919050565b5f6001600160401b03821115613882576138826137fd565b50601f01601f191660200190565b5f82601f83011261389f575f5ffd5b81356138b26138ad8261386a565b61383a565b8181528460208386010111156138c6575f5ffd5b816020850160208301375f918101602001919091529392505050565b5f5f5f606084860312156138f4575f5ffd5b83356001600160401b03811115613909575f5ffd5b8401610120818703121561391b575f5ffd5b613923613811565b61392c82613717565b81526020828101359082015260408201356001600160401b03811115613950575f5ffd5b61395c88828501613890565b60408301525060608201356001600160401b0381111561397a575f5ffd5b61398688828501613890565b6060830152506080828101359082015260a0808301359082015260c0808301359082015260e08201356001600160401b038111156139c2575f5ffd5b6139ce88828501613890565b60e0830152506101008201356001600160401b038111156139ed575f5ffd5b6139f988828501613890565b610100830152509660208601359650604090950135949350505050565b5f60208284031215613a26575f5ffd5b5035919050565b5f5f60208385031215613a3e575f5ffd5b82356001600160401b03811115613a53575f5ffd5b613a5f85828601613722565b90969095509350505050565b5f5f60408385031215613a7c575f5ffd5b8235613a8781613703565b946020939093013593505050565b604080825283519082018190525f9060208501906060840190835b81811015613ad75783516001600160a01b0316835260209384019390920191600101613ab0565b50506001600160a01b039490941660209390930192909252509092915050565b602080825282518282018190525f918401906040840190835b81811015613b2e578351835260209384019390920191600101613b10565b509095945050505050565b5f5f60408385031215613b4a575f5ffd5b82356001600160401b03811115613b5f575f5ffd5b83016101208186031215613a87575f5ffd5b5f81518084528060208401602086015e5f602082860101526020601f19601f83011685010191505092915050565b602081525f611fef6020830184613b71565b5f602082016020835280845180835260408501915060408160051b8601019250602086015f5b82811015613c0857603f19878603018452613bf3858351613b71565b94506020938401939190910190600101613bd7565b50929695505050505050565b5f5f5f5f60608587031215613c27575f5ffd5b8435613c3281613703565b935060208501356001600160401b03811115613c4c575f5ffd5b8501601f81018713613c5c575f5ffd5b80356001600160401b03811115613c71575f5ffd5b8760208260051b8401011115613c85575f5ffd5b60209190910193509150604085013560ff81168114613ca2575f5ffd5b939692955090935050565b6001600160e01b0319811681146123c1575f5ffd5b5f60208284031215613cd2575f5ffd5b8135611fef81613cad565b5f5f85851115613ceb575f5ffd5b83861115613cf7575f5ffd5b5050820193919092039150565b80356bffffffffffffffffffffffff198116906014841015612237576bffffffffffffffffffffffff1960149490940360031b84901b1690921692915050565b60018060a01b0384168152826020820152606060408201525f613d6a6060830184613b71565b95945050505050565b5f60208284031215613d83575f5ffd5b8151611fef81613cad565b80516001600160a01b03168252602081015160208301525f60408201516101206040850152613dc1610120850182613b71565b905060608301518482036060860152613dda8282613b71565b9150506080830151608085015260a083015160a085015260c083015160c085015260e083015184820360e0860152613e128282613b71565b915050610100830151848203610100860152613d6a8282613b71565b604081525f613e406040830185613d8e565b90508260208301529392505050565b5f60208284031215613e5f575f5ffd5b5051919050565b5f5f60408385031215613e77575f5ffd5b8235613e8281613703565b915060208301356001600160401b03811115613e9c575f5ffd5b613ea885828601613890565b9150509250929050565b5f5f8335601e19843603018112613ec7575f5ffd5b8301803591506001600160401b03821115613ee0575f5ffd5b602001915036819003821315610987575f5ffd5b818382375f9101908152919050565b5f60208284031215613f13575f5ffd5b81518015158114611fef575f5ffd5b81835281816020850137505f828201602090810191909152601f909101601f19169091010190565b60018060a01b0385168152836020820152606060408201525f61071b606083018486613f22565b5f82601f830112613f80575f5ffd5b8151613f8e6138ad8261386a565b818152846020838601011115613fa2575f5ffd5b8160208501602083015e5f918101602001919091529392505050565b5f60208284031215613fce575f5ffd5b81516001600160401b03811115613fe3575f5ffd5b61063984828501613f71565b6001600160f81b031991909116815260200190565b634e487b7160e01b5f52603260045260245ffd5b828152604060208201525f6106396040830184613b71565b60ff8416815260406020820181905281018290525f8360608301825b8581101561407c57823561405f81613703565b6001600160a01b031682526020928301929091019060010161404c565b509695505050505050565b5f5f60408385031215614098575f5ffd5b8251915060208301516001600160401b038111156140b4575f5ffd5b613ea885828601613f71565b606081525f6140d26060830186613d8e565b60208301949094525060400152919050565b634e487b7160e01b5f52601160045260245ffd5b8181038181111561059f5761059f6140e4565b5f82518060208501845e5f920191825250919050565b5f60018201614132576141326140e4565b5060010190565b602081525f610639602083018486613f22565b80356001600160e01b03198116906004841015612237576001600160e01b031960049490940360031b84901b1690921692915050565b5f8235605e19833603018112614196575f5ffd5b9190910192915050565b5f602082840312156141b0575f5ffd5b8135611fef81613703565b8035602083101561059f575f19602084900360031b1b169291505056fecd97a6611018468306afd07ac8b14141bc76df8b844b3bcba1768d81e4598200088e45215d3756b04bd240e41d75700a696139d5b53082481ffc3914e4840000a26469706673582212208ef474b5e93ab0fb487109f065363bc30e321d6f427467264ec03cb10a92962564736f6c634300081c0033";
    bytes public constant ERC7579_BOOTSTRAP_BYTECODE =
        hex"6080604052348015600e575f5ffd5b506112a48061001c5f395ff3fe60806040526004361061007e575f3560e01c80636b0d5cc41161004d5780636b0d5cc414610271578063b0d691fe14610290578063ea5f61d0146102b2578063eac9b20d146102d157610085565b80630a664dba146101c85780635e87556d146101f95780635faac46b14610225578063642219af1461025257610085565b3661008557005b5f3560e01c63bc197c81811463f23a6e6182141763150b7a02821417156100b057806020526020603cf35b505f80356001600160e01b03191681525f51602061124f5f395f51905f526020526040902080546001600160a01b03811690600160a01b900460f81b8161011c57604051632464e76d60e11b81526001600160e01b03195f351660048201526024015b60405180910390fd5b61012a81607f60f91b610384565b1561017b5760408051368101909152365f823760408051601481019091523360601b90525f803660140183865afa905061016a3d60408051918201905290565b3d5f823e81610177573d81fd5b3d81f35b610185815f610384565b156101c65760408051368101909152365f823760408051601481019091523360601b90525f80366014018382875af1905061016a3d60408051918201905290565b005b3480156101d3575f5ffd5b506101dc61039b565b6040516001600160a01b0390911681526020015b60405180910390f35b348015610204575f5ffd5b50610218610213366004610d11565b6103c9565b6040516101f09190610e0c565b348015610230575f5ffd5b5061024461023f366004610e35565b610452565b6040516101f0929190610e5f565b34801561025d575f5ffd5b506101c661026c366004610d11565b61048e565b34801561027c575f5ffd5b506101c661028b366004610ec1565b6106d4565b34801561029b575f5ffd5b506f71727de22e5e9d8baf0edac6f37da0326101dc565b3480156102bd575f5ffd5b506102446102cc366004610e35565b6106e4565b3480156102dc575f5ffd5b506103566102eb366004610f41565b6040805180820182525f80825260209182018190526001600160e01b03199390931683525f51602061124f5f395f51905f528152918190208151808301909252546001600160a01b0381168252600160a01b900460f81b6001600160f81b0319169181019190915290565b6040805182516001600160a01b031681526020928301516001600160f81b03191692810192909252016101f0565b6001600160f81b0319828116908216145b92915050565b5f6103c47fcd97a6611018468306afd07ac8b14141bc76df8b844b3bcba1768d81e45982005490565b905090565b606030306001600160a01b031663642219af8a8a8a8a8a8a8a6040516024016103f89796959493929190611071565b604051602081830303815290604052915060e01b6020820180516001600160e01b0383818316178352505050506040516020016104369291906110ce565b6040516020818303038152906040529050979650505050505050565b60605f7fe3a55571e8f241b58442871487cc151a8cb048bb4ad24e833467f724ec89a90061048181868661070f565b92509250505b9250929050565b5f5b8681101561050c576105048888838181106104ad576104ad6110f9565b90506020028101906104bf919061110d565b6104cd90602081019061112b565b8989848181106104df576104df6110f9565b90506020028101906104f1919061110d565b6104ff906020810190611146565b6108b7565b600101610490565b505f5b848110156105cc575f86868381811061052a5761052a6110f9565b905060200281019061053c919061110d565b61054a90602081019061112b565b6001600160a01b0316146105c4576105c486868381811061056d5761056d6110f9565b905060200281019061057f919061110d565b61058d90602081019061112b565b87878481811061059f5761059f6110f9565b90506020028101906105b1919061110d565b6105bf906020810190611146565b610939565b60010161050f565b505f6105db602085018561112b565b6001600160a01b03161461060b5761060b6105f9602085018561112b565b6106066020860186611146565b610964565b5f5b818110156106ca575f838383818110610628576106286110f9565b905060200281019061063a919061110d565b61064890602081019061112b565b6001600160a01b0316146106c2576106c283838381811061066b5761066b6110f9565b905060200281019061067d919061110d565b61068b90602081019061112b565b84848481811061069d5761069d6110f9565b90506020028101906106af919061110d565b6106bd906020810190611146565b6109ea565b60010161060d565b5050505050505050565b6106df8383836108b7565b505050565b60605f7fe3a55571e8f241b58442871487cc151a8cb048bb4ad24e833467f724ec89a9016104818186865b60605f6001600160a01b03841660011480159061073357506107318585610b90565b155b1561075c57604051637c84ecfb60e01b81526001600160a01b0385166004820152602401610113565b825f0361077c5760405163f725081760e01b815260040160405180910390fd5b8267ffffffffffffffff81111561079557610795611189565b6040519080825280602002602001820160405280156107be578160200160208202803683370190505b506001600160a01b038086165f90815260208890526040812054929450911691505b6001600160a01b0382161580159061080257506001600160a01b038216600114155b801561080d57508381105b156108665781838281518110610825576108256110f9565b6001600160a01b039283166020918202929092018101919091529281165f90815292879052604090922054909116908061085e816111b1565b9150506107e0565b6001600160a01b03821660011480159061087f57505f81115b156108ab57826108906001836111c9565b815181106108a0576108a06110f9565b602002602001015191505b80835250935093915050565b7fe3a55571e8f241b58442871487cc151a8cb048bb4ad24e833467f724ec89a9006108e28185610bca565b6040516306d61fe760e41b81526001600160a01b03851690636d61fe709061091090869086906004016111dc565b5f604051808303815f87803b158015610927575f5ffd5b505af11580156106ca573d5f5f3e3d5ffd5b7fe3a55571e8f241b58442871487cc151a8cb048bb4ad24e833467f724ec89a9016108e28185610bca565b5f61098d7fcd97a6611018468306afd07ac8b14141bc76df8b844b3bcba1768d81e45982005490565b90506001600160a01b038116156109c25760405163741cbe0360e01b81526001600160a01b0382166004820152602401610113565b6108e2847fcd97a6611018468306afd07ac8b14141bc76df8b844b3bcba1768d81e459820055565b5f6109f860048284866111ef565b610a0191611216565b90505f83836004818110610a1757610a176110f9565b909101356001600160f81b03191691505f9050610a3784600581886111ef565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92019190915250929350610a799250859150610c9e9050565b15610ac65760405162461bcd60e51b815260206004820152601e60248201527f46756e6374696f6e2073656c6563746f7220616c7265616479207573656400006044820152606401610113565b6040805180820182526001600160a01b038881168083526001600160f81b0319861660208085019182526001600160e01b031989165f9081525f51602061124f5f395f51905f5290915285902093518454915160f81c600160a01b026001600160a81b03199092169316929092179190911790915590516306d61fe760e41b8152636d61fe7090610b5b908490600401610e0c565b5f604051808303815f87803b158015610b72575f5ffd5b505af1158015610b84573d5f5f3e3d5ffd5b50505050505050505050565b5f60016001600160a01b03831614801590610bc357506001600160a01b038281165f908152602085905260409020541615155b9392505050565b6001600160a01b0381161580610be957506001600160a01b0381166001145b15610c1257604051637c84ecfb60e01b81526001600160a01b0382166004820152602401610113565b6001600160a01b038181165f908152602084905260409020541615610c5557604051631034f46960e21b81526001600160a01b0382166004820152602401610113565b60015f818152602093909352604080842080546001600160a01b039485168087529286208054959091166001600160a01b03199586161790559190935280549091169091179055565b6001600160e01b0319165f9081525f51602061124f5f395f51905f5260205260409020546001600160a01b0316151590565b5f5f83601f840112610ce0575f5ffd5b50813567ffffffffffffffff811115610cf7575f5ffd5b6020830191508360208260051b8501011115610487575f5ffd5b5f5f5f5f5f5f5f6080888a031215610d27575f5ffd5b873567ffffffffffffffff811115610d3d575f5ffd5b610d498a828b01610cd0565b909850965050602088013567ffffffffffffffff811115610d68575f5ffd5b610d748a828b01610cd0565b909650945050604088013567ffffffffffffffff811115610d93575f5ffd5b88016040818b031215610da4575f5ffd5b9250606088013567ffffffffffffffff811115610dbf575f5ffd5b610dcb8a828b01610cd0565b989b979a50959850939692959293505050565b5f81518084528060208401602086015e5f602082860101526020601f19601f83011685010191505092915050565b602081525f610bc36020830184610dde565b6001600160a01b0381168114610e32575f5ffd5b50565b5f5f60408385031215610e46575f5ffd5b8235610e5181610e1e565b946020939093013593505050565b604080825283519082018190525f9060208501906060840190835b81811015610ea15783516001600160a01b0316835260209384019390920191600101610e7a565b50506001600160a01b039490941660209390930192909252509092915050565b5f5f5f60408486031215610ed3575f5ffd5b8335610ede81610e1e565b9250602084013567ffffffffffffffff811115610ef9575f5ffd5b8401601f81018613610f09575f5ffd5b803567ffffffffffffffff811115610f1f575f5ffd5b866020828401011115610f30575f5ffd5b939660209190910195509293505050565b5f60208284031215610f51575f5ffd5b81356001600160e01b031981168114610bc3575f5ffd5b81835281816020850137505f828201602090810191909152601f909101601f19169091010190565b5f8135610f9c81610e1e565b6001600160a01b03168352602082013536839003601e19018112610fbe575f5ffd5b820160208101903567ffffffffffffffff811115610fda575f5ffd5b803603821315610fe8575f5ffd5b60406020860152610ffd604086018284610f68565b95945050505050565b5f8383855260208501945060208460051b820101835f5b8681101561106557838303601f19018852813536879003603e19018112611042575f5ffd5b61104e84888301610f90565b6020998a019990945092909201915060010161101d565b50909695505050505050565b608081525f61108460808301898b611006565b828103602084015261109781888a611006565b905082810360408401526110ab8187610f90565b905082810360608401526110c0818587611006565b9a9950505050505050505050565b6001600160a01b03831681526040602082018190525f906110f190830184610dde565b949350505050565b634e487b7160e01b5f52603260045260245ffd5b5f8235603e19833603018112611121575f5ffd5b9190910192915050565b5f6020828403121561113b575f5ffd5b8135610bc381610e1e565b5f5f8335601e1984360301811261115b575f5ffd5b83018035915067ffffffffffffffff821115611175575f5ffd5b602001915036819003821315610487575f5ffd5b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b5f600182016111c2576111c261119d565b5060010190565b818103818111156103955761039561119d565b602081525f6110f1602083018486610f68565b5f5f858511156111fd575f5ffd5b83861115611209575f5ffd5b5050820193919092039150565b80356001600160e01b03198116906004841015611247576001600160e01b0319600485900360031b81901b82161691505b509291505056fee3a55571e8f241b58442871487cc151a8cb048bb4ad24e833467f724ec89a902a2646970667358221220840aaf482814aab1ad892b5651c64fa9e92a08ceec981e947f5bad9f932b5d3b64736f6c634300081c0033";
    bytes public constant ERC7579_RHINESTONE_TRAMPOLOINE_BYTECODE =
        hex"6080604052348015600e575f5ffd5b5061081d8061001c5f395ff3fe608060405260043610610058575f3560e01c80630a664dba146101b55780635faac46b146101e6578063b0d691fe14610213578063e1c7392a14610235578063ea5f61d014610249578063eac9b20d146102685761005f565b3661005f57005b5f3560e01c63bc197c81811463f23a6e6182141763150b7a028214171561008a57806020526020603cf35b505f80356001600160e01b03191681527ff88ce1fdb7fb1cbd3282e49729100fa3f2d6ee9f797961fe4fb1871cea89ea046020526040902080546001600160a01b03811690600160a01b900460f81b8161010957604051632464e76d60e11b81526001600160e01b03195f351660048201526024015b60405180910390fd5b61011781607f60f91b61032e565b156101685760408051368101909152365f823760408051601481019091523360601b90525f803660140183865afa90506101573d60408051918201905290565b3d5f823e81610164573d81fd5b3d81f35b610172815f61032e565b156101b35760408051368101909152365f823760408051601481019091523360601b90525f80366014018382875af190506101573d60408051918201905290565b005b3480156101c0575f5ffd5b506101c9610345565b6040516001600160a01b0390911681526020015b60405180910390f35b3480156101f1575f5ffd5b5061020561020036600461068d565b610373565b6040516101dd9291906106c2565b34801561021e575f5ffd5b506f71727de22e5e9d8baf0edac6f37da0326101c9565b348015610240575f5ffd5b506101b36103ae565b348015610254575f5ffd5b5061020561026336600461068d565b610480565b348015610273575f5ffd5b50610300610282366004610724565b6040805180820182525f80825260209182018190526001600160e01b03199390931683527ff88ce1fdb7fb1cbd3282e49729100fa3f2d6ee9f797961fe4fb1871cea89ea048152918190208151808301909252546001600160a01b0381168252600160a01b900460f81b6001600160f81b0319169181019190915290565b6040805182516001600160a01b031681526020928301516001600160f81b03191692810192909252016101dd565b6001600160f81b0319828116908216145b92915050565b5f61036e7f36e05829dd1b9a4411d96a3549582172d7f071c1c0db5c573fcf94eb284316085490565b905090565b60605f7ff88ce1fdb7fb1cbd3282e49729100fa3f2d6ee9f797961fe4fb1871cea89ea026103a28186866104ab565b92509250509250929050565b6103ea7334dedac925c00d63bd91800ff821e535fe59d6f57f36e05829dd1b9a4411d96a3549582172d7f071c1c0db5c573fcf94eb2843160855565b60408051737066f491ce8b5f782f315dfbd549f2107a32641360611b60208201528151601481830301815260348201928390526306d61fe760e41b9092527334dedac925c00d63bd91800ff821e535fe59d6f591636d61fe7091610451919060380161074b565b5f604051808303815f87803b158015610468575f5ffd5b505af115801561047a573d5f5f3e3d5ffd5b50505050565b60605f7ff88ce1fdb7fb1cbd3282e49729100fa3f2d6ee9f797961fe4fb1871cea89ea036103a28186865b60605f6001600160a01b0384166001148015906104cf57506104cd8585610653565b155b156104f857604051637c84ecfb60e01b81526001600160a01b0385166004820152602401610100565b825f036105185760405163f725081760e01b815260040160405180910390fd5b8267ffffffffffffffff81111561053157610531610780565b60405190808252806020026020018201604052801561055a578160200160208202803683370190505b506001600160a01b038086165f90815260208890526040812054929450911691505b6001600160a01b0382161580159061059e57506001600160a01b038216600114155b80156105a957508381105b1561060257818382815181106105c1576105c1610794565b6001600160a01b039283166020918202929092018101919091529281165f9081529287905260409092205490911690806105fa816107bc565b91505061057c565b6001600160a01b03821660011480159061061b57505f81115b15610647578261062c6001836107d4565b8151811061063c5761063c610794565b602002602001015191505b80835250935093915050565b5f60016001600160a01b0383161480159061068657506001600160a01b038281165f908152602085905260409020541615155b9392505050565b5f5f6040838503121561069e575f5ffd5b82356001600160a01b03811681146106b4575f5ffd5b946020939093013593505050565b604080825283519082018190525f9060208501906060840190835b818110156107045783516001600160a01b03168352602093840193909201916001016106dd565b50506001600160a01b039490941660209390930192909252509092915050565b5f60208284031215610734575f5ffd5b81356001600160e01b031981168114610686575f5ffd5b602081525f82518060208401528060208501604085015e5f604082850101526040601f19601f83011684010191505092915050565b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52603260045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b5f600182016107cd576107cd6107a8565b5060010190565b8181038181111561033f5761033f6107a856fea26469706673582212208b8d179eb9f1d514092184d86650903af803b01f367d0d2440620538d93230ac64736f6c634300081b0033";
    bytes public constant MSAPROXY_BYTECODE =
        hex"608060405260405161045a38038061045a833981016040819052610022916102a7565b61002a61003b565b610034828261009c565b50506103ab565b5f60ff1961006a60017ff63b257b7881773a84d328ab92140e19ab791f7b439c76ba9837aa0d6ad30af0610376565b60405160200161007c91815260200190565b604051602081830303815290604052805190602001201690506001815d50565b6100a5826100fa565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b905f90a28051156100ee576100e98282610175565b505050565b6100f66101ea565b5050565b806001600160a01b03163b5f0361013457604051634c9c8ce360e01b81526001600160a01b03821660048201526024015b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80546001600160a01b0319166001600160a01b0392909216919091179055565b60605f5f846001600160a01b0316846040516101919190610395565b5f60405180830381855af49150503d805f81146101c9576040519150601f19603f3d011682016040523d82523d5f602084013e6101ce565b606091505b5090925090506101df85838361020b565b925050505b92915050565b34156102095760405163b398979f60e01b815260040160405180910390fd5b565b6060826102205761021b8261026a565b610263565b815115801561023757506001600160a01b0384163b155b1561026057604051639996b31560e01b81526001600160a01b038516600482015260240161012b565b50805b9392505050565b80511561027a5780518082602001fd5b60405163d6bda27560e01b815260040160405180910390fd5b634e487b7160e01b5f52604160045260245ffd5b5f5f604083850312156102b8575f5ffd5b82516001600160a01b03811681146102ce575f5ffd5b60208401519092506001600160401b038111156102e9575f5ffd5b8301601f810185136102f9575f5ffd5b80516001600160401b0381111561031257610312610293565b604051601f8201601f19908116603f011681016001600160401b038111828210171561034057610340610293565b604052818152828201602001871015610357575f5ffd5b8160208401602083015e5f602083830101528093505050509250929050565b818103818111156101e457634e487b7160e01b5f52601160045260245ffd5b5f82518060208501845e5f920191825250919050565b60a3806103b75f395ff3fe6080604052600a600c565b005b60186014601a565b6050565b565b5f604b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b905090565b365f5f375f5f365f845af43d5f5f3e8080156069573d5ff35b3d5ffdfea2646970667358221220917b117bd639a5c1424676eeebd5c60b66b5c82bd16f9df87d1255745f0c121964736f6c634300081c0033";
}
