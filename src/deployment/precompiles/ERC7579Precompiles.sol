// SPDX-License-Identifier: MIT
pragma solidity >=0.8.23 <0.9.0;

// Interfaces
import { IERC7579Account } from "../../accounts/common/interfaces/IERC7579Account.sol";
import { IERC7579Bootstrap } from "../../accounts/erc7579/interfaces/IERC7579Bootstrap.sol";
import { IMSA } from "../../accounts/erc7579/interfaces/IMSA.sol";

// Utils
import { BytecodeDeployer } from "./BytecodeDeployer.sol";

interface RhinestoneBootstrap {
    function init() external;
}

/// @notice Precompiled erc7579 contracts
contract ERC7579Precompiles is BytecodeDeployer {
    /*//////////////////////////////////////////////////////////////
                                 DEPLOY
    //////////////////////////////////////////////////////////////*/

    function deployERC7579Account() internal returns (IERC7579Account) {
        return IERC7579Account(_deploy(ERC7579_BYTECODE));
    }

    function deployMSAPRoxy(
        bytes32 salt,
        address implementation,
        bytes memory initCode
    )
        internal
        returns (address)
    {
        return _deploy2(
            bytes.concat(
                MSAPROXY_BYTECODE,
                abi.encode(
                    implementation,
                    abi.encodeWithSelector(IMSA.initializeAccount.selector, initCode)
                )
            ),
            salt
        );
    }

    function deployERC7579Bootstrap() internal returns (IERC7579Bootstrap) {
        return IERC7579Bootstrap(_deploy(ERC7579_BOOTSTRAP_BYTECODE));
    }

    function deployRhinestoneBootstrap() internal returns (RhinestoneBootstrap) {
        return RhinestoneBootstrap(_deploy(ERC7579_RHINESTONE_TRAMPOLOINE_BYTECODE));
    }

    /*//////////////////////////////////////////////////////////////
                            BYTECODES
    //////////////////////////////////////////////////////////////*/

    /* solhint-disable max-line-length */
    bytes public constant ERC7579_BYTECODE =
        hex"6080604052348015600e575f5ffd5b506143d38061001c5f395ff3fe60806040526004361061012d575f3560e01c80639517e29f116100aa578063d691c9641161006e578063d691c9641461048d578063e9ae5c53146104ad578063ea5f61d0146104c0578063eab77e17146104df578063eac9b20d146104fe578063f2dc691d1461054b57610134565b80639517e29f146103db5780639cfd7cff146103ee578063a71763a814610439578063b0d691fe1461044c578063d03c79141461046e57610134565b8063492a88a2116100f1578063492a88a2146103535780634b6a1419146103675780635faac46b1461037a5780638626e88b146103a75780638dd7712f146103c857610134565b80630a664dba1461027b578063112d3a7d146102ac5780631626ba7e146102db57806319822f7c146103135780631de6f24f1461033457610134565b3661013457005b5f3560e01c63bc197c81811463f23a6e6182141763150b7a028214171561015f57806020526020603cf35b505f61016961056a565b5f80356001600160e01b03191681526002919091016020526040902080549091506001600160a01b03811690600160a01b900460f81b816101cf57604051632464e76d60e11b81526001600160e01b03195f351660048201526024015b60405180910390fd5b6101dd81607f60f91b61058e565b1561022e5760408051368101909152365f823760408051601481019091523360601b90525f803660140183865afa905061021d3d60408051918201905290565b3d5f823e8161022a573d81fd5b3d81f35b610238815f61058e565b156102795760408051368101909152365f823760408051601481019091523360601b90525f80366014018382875af1905061021d3d60408051918201905290565b005b348015610286575f5ffd5b5061028f6105a5565b6040516001600160a01b0390911681526020015b60405180910390f35b3480156102b7575f5ffd5b506102cb6102c63660046138bb565b6105c0565b60405190151581526020016102a3565b3480156102e6575f5ffd5b506102fa6102f5366004613912565b610641565b6040516001600160e01b031990911681526020016102a3565b610326610321366004613a3e565b610725565b6040519081526020016102a3565b34801561033f575f5ffd5b5061028f61034e366004613b72565b610938565b34801561035e575f5ffd5b506102cb610942565b610279610375366004613b89565b610971565b348015610385575f5ffd5b50610399610394366004613bc7565b610a14565b6040516102a3929190613bf1565b3480156103b2575f5ffd5b506103bb610a3a565b6040516102a39190613c53565b6102796103d6366004613c95565b610ab1565b6102796103e93660046138bb565b610b7c565b3480156103f9575f5ffd5b50604080518082018252601b81527f754d53412e616476616e6365642f77697468486f6f6b2e76302e310000000000602082015290516102a39190613cfb565b6102796104473660046138bb565b61104f565b348015610457575f5ffd5b506f71727de22e5e9d8baf0edac6f37da03261028f565b348015610479575f5ffd5b506102cb610488366004613b72565b6112f4565b6104a061049b366004613912565b61138f565b6040516102a39190613d0d565b6102796104bb366004613912565b611a9b565b3480156104cb575f5ffd5b506103996104da366004613bc7565b611ed6565b3480156104ea575f5ffd5b506102796104f9366004613d70565b611ef2565b348015610509575f5ffd5b5061051d610518366004613e1e565b611faf565b6040805182516001600160a01b031681526020928301516001600160f81b03191692810192909252016102a3565b348015610556575f5ffd5b506102cb610565366004613b72565b61201c565b7fe3a55571e8f241b58442871487cc151a8cb048bb4ad24e833467f724ec89a90090565b6001600160f81b0319828116908216145b92915050565b5f6105bb5f51602061435e5f395f51905f525490565b905090565b5f600185036105d9576105d284612085565b9050610639565b600285036105ea576105d2846120a2565b60038503610607576105d261060183850185613e1e565b856120bb565b60048503610618576105d2846120f7565b60088514806106275750600985145b15610636576105d28486612127565b505f5b949350505050565b5f806106506014828587613e39565b61065991613e60565b60601c905061066781612085565b61068f57604051635c93ff2f60e11b81526001600160a01b03821660048201526024016101c6565b60606106a7866106a2866014818a613e39565b61214c565b604051637aa8f17760e11b815291975091506001600160a01b0383169063f551e2ee906106dc9033908a908690600401613ea0565b602060405180830381865afa1580156106f7573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061071b9190613ecf565b9695505050505050565b5f336f71727de22e5e9d8baf0edac6f37da0321461075657604051635629665f60e11b815260040160405180910390fd5b815f5f866020015190508060601c91506107936040518060400160405280600b81526020016a02b30b634b230ba37b91d160ad1b81525083612232565b61079c82612085565b610899576107de6040518060400160405280601781526020017f56616c696461746f72206e6f7420696e7374616c6c656400000000000000000081525061227b565b6107e66122c1565b61088e576108286040518060400160405280601781526020017f4163636f756e74206e6f7420696e697469616c697a656400000000000000000081525061227b565b5f61086561085a886020527b19457468657265756d205369676e6564204d6573736167653a0a33325f52603c60042090565b8961010001516122ed565b90506001600160a01b03811630146108835760019450505050610920565b5f9450505050610920565b600193505050610920565b6108a4868887612379565b610100890152604051639700320360e01b81529096506001600160a01b038316906397003203906108db908a908a90600401613f8a565b6020604051808303815f875af11580156108f7573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061091b9190613fab565b935050505b8015610930575f385f3884335af1505b509392505050565b5f61059f826123d7565b5f33301461096357604051630e93a1f960e01b815260040160405180910390fd5b61096b612433565b50600190565b3330146109805761098061246a565b6109886124d8565b303f7feadcdba66a79ab5dce91622d1d75c8cff5cff0b96944c3bf1072cd08ce0183291480156109f1576109db7fe3a55571e8f241b58442871487cc151a8cb048bb4ad24e833467f724ec89a9006124f8565b6109f15f51602061435e5f395f51905f526124f8565b5f806109ff84860186613fc2565b91509150610a0d828261254b565b5050505050565b60605f5f610a2061056a565b9050610a2d8186866125b3565b92509250505b9250929050565b7fc473de86d0138e06e4d4918a106463a7cc005258d2e21915272bcb4594c18900805460408051602080840282018101909252828152606093929091839190830182828015610aa657602002820191905f5260205f20905b815481526020019060010190808311610a92575b505050505091505090565b336f71727de22e5e9d8baf0edac6f37da03214610ae157604051635629665f60e11b815260040160405180910390fd5b365f610af0606085018561400e565b610afe916004908290613e39565b915091505f306001600160a01b03168383604051610b1d929190614050565b5f60405180830381855af49150503d805f8114610b55576040519150601f19603f3d011682016040523d82523d5f602084013e610b5a565b606091505b5050905080610a0d57604051632b3f6d1160e21b815260040160405180910390fd5b336f71727de22e5e9d8baf0edac6f37da0321480610b9957503330145b610bb657604051635629665f60e11b815260040160405180910390fd5b5f610bcc5f51602061435e5f395f51905f525490565b90506001600160a01b038116610dab575f54849086906001600160a01b03168015610c4e576040516396fb721760e01b81526001600160a01b038481166004830152602482018490528216906396fb7217906044015f6040518083038186803b158015610c37575f5ffd5b505afa158015610c49573d5f5f3e3d5ffd5b505050505b60405163ecd0596160e01b8152600481018990526001600160a01b0388169063ecd0596190602401602060405180830381865afa158015610c91573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610cb5919061405f565b610cd5576040516369c9a24560e11b8152600481018990526024016101c6565b60018803610ced57610ce887878761275a565b610d62565b60028803610d0057610ce887878761279d565b60038803610d1357610ce88787876127b5565b60048803610d2657610ce8878787612933565b6008881480610d355750600988145b15610d4657610ce887898888612993565b60405163041c38b360e41b8152600481018990526024016101c6565b604080518981526001600160a01b03891660208201527fd21d0b289f126c4b473ea641963e766833c2f13866e4ff480abd787c100ef123910160405180910390a1505050610a0d565b60405163d68f602560e01b81525f906001600160a01b0383169063d68f602590610ddf9033903490869036906004016140a6565b5f604051808303815f875af1158015610dfa573d5f5f3e3d5ffd5b505050506040513d5f823e601f3d908101601f19168201604052610e21919081019061411a565b5f54909150859087906001600160a01b03168015610e96576040516396fb721760e01b81526001600160a01b038481166004830152602482018490528216906396fb7217906044015f6040518083038186803b158015610e7f575f5ffd5b505afa158015610e91573d5f5f3e3d5ffd5b505050505b60405163ecd0596160e01b8152600481018a90526001600160a01b0389169063ecd0596190602401602060405180830381865afa158015610ed9573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610efd919061405f565b610f1d576040516369c9a24560e11b8152600481018a90526024016101c6565b60018903610f3557610f3088888861275a565b610faa565b60028903610f4857610f3088888861279d565b60038903610f5b57610f308888886127b5565b60048903610f6e57610f30888888612933565b6008891480610f7d5750600989145b15610f8e57610f30888a8989612993565b60405163041c38b360e41b8152600481018a90526024016101c6565b604080518a81526001600160a01b038a1660208201527fd21d0b289f126c4b473ea641963e766833c2f13866e4ff480abd787c100ef123910160405180910390a15050604051630b9dfbed60e11b81526001600160a01b038416915063173bf7da9061101a908490600401613cfb565b5f604051808303815f87803b158015611031575f5ffd5b505af1158015611043573d5f5f3e3d5ffd5b50505050505050505050565b336f71727de22e5e9d8baf0edac6f37da032148061106c57503330145b61108957604051635629665f60e11b815260040160405180910390fd5b5f61109f5f51602061435e5f395f51905f525490565b90506001600160a01b03811661118257600185036110c7576110c2848484612a99565b61113c565b600285036110da576110c2848484612aee565b600385036110ed576110c2848484612b0a565b60048503611100576110c2848484612d0f565b600885148061110f5750600985145b15611120576110c284868585612d84565b60405163041c38b360e41b8152600481018690526024016101c6565b604080518681526001600160a01b03861660208201527f341347516a9de374859dfda710fa4828b2d48cb57d4fbe4c1149612b8e02276e910160405180910390a1610a0d565b60405163d68f602560e01b81525f906001600160a01b0383169063d68f6025906111b69033903490869036906004016140a6565b5f604051808303815f875af11580156111d1573d5f5f3e3d5ffd5b505050506040513d5f823e601f3d908101601f191682016040526111f8919081019061411a565b9050600186036112125761120d858585612a99565b611287565b600286036112255761120d858585612aee565b600386036112385761120d858585612b0a565b6004860361124b5761120d858585612d0f565b600886148061125a5750600986145b1561126b5761120d85878686612d84565b60405163041c38b360e41b8152600481018790526024016101c6565b604080518781526001600160a01b03871660208201527f341347516a9de374859dfda710fa4828b2d48cb57d4fbe4c1149612b8e02276e910160405180910390a1604051630b9dfbed60e11b81526001600160a01b0383169063173bf7da9061101a908490600401613cfb565b5f81600881901b61130982600160f81b61058e565b156113175760019250611358565b611321825f61058e565b1561132f5760019250611358565b611341826001600160f81b031961058e565b1561134f5760019250611358565b505f9392505050565b611362815f61058e565b156113705760019250611388565b61137e81600160f81b61058e565b1561134f57600192505b5050919050565b60605f61139a61056a565b60010190506113a98133612e78565b6113c857604051635c93ff2f60e11b81523360048201526024016101c6565b5f6113de5f51602061435e5f395f51905f525490565b90506001600160a01b038116611715575f5433906002906001600160a01b03168015611461576040516396fb721760e01b81526001600160a01b038481166004830152602482018490528216906396fb7217906044015f6040518083038186803b15801561144a575f5ffd5b505afa15801561145c573d5f5f3e3d5ffd5b505050505b88600881901b61147582600160f81b61058e565b156114ea57365f6114868c8c612eb0565b9092509050611495835f61058e565b156114ab576114a48282612f46565b99506114e3565b6114b983600160f81b61058e565b156114c8576114a4828261301d565b826040516308c3ee0360e11b81526004016101c6919061414b565b505061170b565b6114f4825f61058e565b1561163b575f5f365f6115078e8e613148565b6040805160018082528183019092529498509296509094509250816020015b6060815260200190600190039081611526579050509b505f611548868261058e565b1561157b5761155985858585613198565b8d5f8151811061156b5761156b614160565b6020026020010181905250611631565b61158986600160f81b61058e565b156116165761159a858585856131cb565b8e5f815181106115ac576115ac614160565b6020908102919091010152905080611611577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb75f8e5f815181106115f2576115f2614160565b6020026020010151604051611608929190614174565b60405180910390a15b611631565b856040516308c3ee0360e11b81526004016101c6919061414b565b505050505061170b565b61164d826001600160f81b031961058e565b156116f0575f6116606014828c8e613e39565b61166991613e60565b60601c9050365f8c8c601490809261168393929190613e39565b9092509050611692845f61058e565b156116a8576116a28383836131f9565b506116e8565b6116b684600160f81b61058e565b156116cd576116c683838361322a565b50506116e8565b836040516308c3ee0360e11b81526004016101c6919061414b565b50505061170b565b81604051632e5bf3f960e21b81526004016101c6919061414b565b5050505050611a92565b60405163d68f602560e01b81525f906001600160a01b0383169063d68f6025906117499033903490869036906004016140a6565b5f604051808303815f875af1158015611764573d5f5f3e3d5ffd5b505050506040513d5f823e601f3d908101601f1916820160405261178b919081019061411a565b5f5490915033906002906001600160a01b03168015611801576040516396fb721760e01b81526001600160a01b038481166004830152602482018490528216906396fb7217906044015f6040518083038186803b1580156117ea575f5ffd5b505afa1580156117fc573d5f5f3e3d5ffd5b505050505b89600881901b61181582600160f81b61058e565b1561186f57365f6118268d8d612eb0565b9092509050611835835f61058e565b1561184b576118448282612f46565b9a50611868565b61185983600160f81b61058e565b156114c857611844828261301d565b5050611a32565b611879825f61058e565b156119a0575f5f365f61188c8f8f613148565b6040805160018082528183019092529498509296509094509250816020015b60608152602001906001900390816118ab579050509c505f6118cd868261058e565b15611900576118de85858585613198565b8e5f815181106118f0576118f0614160565b6020026020010181905250611996565b61190e86600160f81b61058e565b156116165761191f858585856131cb565b8f5f8151811061193157611931614160565b6020908102919091010152905080611996577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb75f8f5f8151811061197757611977614160565b602002602001015160405161198d929190614174565b60405180910390a15b5050505050611a32565b6119b2826001600160f81b031961058e565b156116f0575f6119c56014828d8f613e39565b6119ce91613e60565b60601c9050365f8d8d60149080926119e893929190613e39565b90925090506119f7845f61058e565b15611a0d57611a078383836131f9565b50611a2e565b611a1b84600160f81b61058e565b156116cd57611a2b83838361322a565b50505b5050505b5050604051630b9dfbed60e11b81526001600160a01b038616935063173bf7da9250611a6391508490600401613cfb565b5f604051808303815f87803b158015611a7a575f5ffd5b505af1158015611a8c573d5f5f3e3d5ffd5b50505050505b50509392505050565b336f71727de22e5e9d8baf0edac6f37da0321480611ab857503330145b611ad557604051635629665f60e11b815260040160405180910390fd5b5f611aeb5f51602061435e5f395f51905f525490565b90506001600160a01b038116611c8e5783600881901b611b0f82600160f81b61058e565b15611b6857365f611b208787612eb0565b9092509050611b2f835f61058e565b15611b4457611b3e8282612f46565b50611b61565b611b5283600160f81b61058e565b156114c857611b3e828261301d565b5050611c87565b611b72825f61058e565b15611bfb575f5f365f611b858989613148565b9350935093509350611b9a855f60f81b61058e565b15611bb157611bab84848484613198565b50611bf2565b611bbf85600160f81b61058e565b15611bd757611bd0848484846131cb565b5050611bf2565b846040516308c3ee0360e11b81526004016101c6919061414b565b50505050611c87565b611c0d826001600160f81b031961058e565b156116f0575f611c206014828789613e39565b611c2991613e60565b60601c9050365f611c3d876014818b613e39565b9092509050611c4c845f61058e565b15611c6257611c5c8383836131f9565b50611c83565b611c7084600160f81b61058e565b156116cd57611c8083838361322a565b50505b5050505b5050611ed0565b60405163d68f602560e01b81525f906001600160a01b0383169063d68f602590611cc29033903490869036906004016140a6565b5f604051808303815f875af1158015611cdd573d5f5f3e3d5ffd5b505050506040513d5f823e601f3d908101601f19168201604052611d04919081019061411a565b905084600881901b611d1a82600160f81b61058e565b15611d7357365f611d2b8888612eb0565b9092509050611d3a835f61058e565b15611d4f57611d498282612f46565b50611d6c565b611d5d83600160f81b61058e565b156114c857611d49828261301d565b5050611e73565b611d7d825f61058e565b15611de7575f5f365f611d908a8a613148565b9350935093509350611da5855f60f81b61058e565b15611dbc57611db684848484613198565b50611dde565b611dca85600160f81b61058e565b15611bd757611ddb848484846131cb565b50505b50505050611e73565b611df9826001600160f81b031961058e565b156116f0575f611e0c601482888a613e39565b611e1591613e60565b60601c9050365f611e29886014818c613e39565b9092509050611e38845f61058e565b15611e4e57611e488383836131f9565b50611e6f565b611e5c84600160f81b61058e565b156116cd57611e6c83838361322a565b50505b5050505b5050604051630b9dfbed60e11b81526001600160a01b0383169063173bf7da90611ea1908490600401613cfb565b5f604051808303815f87803b158015611eb8575f5ffd5b505af1158015611eca573d5f5f3e3d5ffd5b50505050505b50505050565b60605f5f611ee261056a565b6001019050610a2d8186866125b3565b336f71727de22e5e9d8baf0edac6f37da0321480611f0f57503330145b611f2c57604051635629665f60e11b815260040160405180910390fd5b5f80546001600160a01b0319166001600160a01b0386161790558115611ed05760405163f05c04e160e01b81526001600160a01b0385169063f05c04e190611f7c9084908790879060040161418c565b5f604051808303815f87803b158015611f93575f5ffd5b505af1158015611fa5573d5f5f3e3d5ffd5b5050505050505050565b604080518082019091525f8082526020820152611fca61056a565b6001600160e01b0319929092165f908152600290920160209081526040928390208351808501909452546001600160a01b0381168452600160a01b900460f81b6001600160f81b031916908301525090565b5f6001820361202d57506001919050565b6002820361203d57506001919050565b6003820361204d57506001919050565b6004820361205d57506001919050565b600882148061206c5750600982145b1561207957506001919050565b505f919050565b919050565b5f5f61208f61056a565b905061209b8184612e78565b9392505050565b5f5f6120ac61056a565b600101905061209b8184612e78565b5f5f6120c561056a565b6001600160e01b0319949094165f908152600290940160205250506040909120546001600160a01b0390811691161490565b5f816001600160a01b03166121175f51602061435e5f395f51905f525490565b6001600160a01b03161492915050565b5f826001600160a01b031661213b836123d7565b6001600160a01b0316149392505050565b5f60605f61215a60086123d7565b90506001600160a01b0381166121b15785858581818080601f0160208091040260200160405190810160405280939291908181526020018383808284375f9201919091525095985091965061222a95505050505050565b604051637a0468b760e01b81526001600160a01b03821690637a0468b7906121e39033908a908a908a906004016140a6565b5f60405180830381865afa1580156121fd573d5f5f3e3d5ffd5b505050506040513d5f823e601f3d908101601f1916820160405261222491908101906141e3565b92509250505b935093915050565b612277828260405160240161224892919061421c565b60408051601f198184030181529190526020810180516001600160e01b031663319af33360e01b179052613256565b5050565b6122be8160405160240161228f9190613cfb565b60408051601f198184030181529190526020810180516001600160e01b031663104c13eb60e21b179052613256565b50565b5f5f6122cb61056a565b60015f90815260209190915260409020546001600160a01b0316151592915050565b5f604051825160408114612309576041811461232a5750612365565b604084015160ff81901c601b016020526001600160ff1b031660605261233d565b60608401515f1a60205260408401516060525b50835f5260208301516040526020600160805f60015afa5191505f606052806040523d612372575b638baa579f5f526004601cfd5b5092915050565b5f60605f61238760096123d7565b90506001600160a01b0381166123a757505050610100820151839061222a565b60405163e24f8f9360e01b81526001600160a01b0382169063e24f8f93906121e390889088908b90600401614245565b5f5f51602061437e5f395f51905f5260071983016123ff57546001600160a01b031692915050565b6009830361241a57600101546001600160a01b031692915050565b604051635691922f60e01b815260040160405180910390fd5b61243b61325f565b612443613347565b61246061245b5f51602061435e5f395f51905f525490565b613432565b6124686124d8565b565b5f60ff1961249960017ff63b257b7881773a84d328ab92140e19ab791f7b439c76ba9837aa0d6ad30af061427d565b6040516020016124ab91815260200190565b60405160208183030381529060405280519060200120169050805c806122775763aed595955f526004601cfd5b5f6124e161056a565b90506124ef816001016134f9565b6122be816134f9565b7fc473de86d0138e06e4d4918a106463a7cc005258d2e21915272bcb4594c1890080546001810182555f919091527fdb3901c0862740f848a4aebebd6b3d645e6b3bc6adf2cf46e83a846b3a3439330155565b5f826001600160a01b0316826040516125649190614290565b5f60405180830381855af49150503d805f811461259c576040519150601f19603f3d011682016040523d82523d5f602084013e6125a1565b606091505b50509050806125ae575f5ffd5b505050565b60605f6001600160a01b0384166001148015906125d757506125d58585612e78565b155b1561260057604051637c84ecfb60e01b81526001600160a01b03851660048201526024016101c6565b825f036126205760405163f725081760e01b815260040160405180910390fd5b826001600160401b0381111561263857612638613959565b604051908082528060200260200182016040528015612661578160200160208202803683370190505b506001600160a01b038086165f90815260208890526040812054929450911691505b6001600160a01b038216158015906126a557506001600160a01b038216600114155b80156126b057508381105b1561270957818382815181106126c8576126c8614160565b6001600160a01b039283166020918202929092018101919091529281165f908152928790526040909220549091169080612701816142a6565b915050612683565b6001600160a01b03821660011480159061272257505f81115b1561274e578261273360018361427d565b8151811061274357612743614160565b602002602001015191505b80835250935093915050565b5f61276361056a565b905061276f8185613554565b6040516306d61fe760e41b81526001600160a01b03851690636d61fe7090611f7c90869086906004016142be565b5f6127a661056a565b600101905061276f8185613554565b5f6127c36004828486613e39565b6127cc916142d1565b90505f838360048181106127e2576127e2614160565b909101356001600160f81b03191691505f90506128028460058188613e39565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f9201919091525092935061284492508591506136289050565b156128915760405162461bcd60e51b815260206004820152601e60248201527f46756e6374696f6e2073656c6563746f7220616c72656164792075736564000060448201526064016101c6565b604080518082019091526001600160a01b03871681526001600160f81b0319831660208201526128bf61056a565b6001600160e01b031985165f908152600291909101602090815260409182902083518154949092015160f81c600160a01b026001600160a81b03199094166001600160a01b039283161793909317909255516306d61fe760e41b815290871690636d61fe709061101a908490600401613cfb565b5f6129495f51602061435e5f395f51905f525490565b90506001600160a01b0381161561297e5760405163741cbe0360e01b81526001600160a01b03821660048201526024016101c6565b61276f845f51602061435e5f395f51905f5255565b5f51602061437e5f395f51905f525f6129ab856123d7565b90506001600160a01b038116156129e05760405163786ae23560e01b81526001600160a01b03821660048201526024016101c6565b6129ea8686613660565b60088503612a555781546040516306d61fe760e41b81526001600160a01b0390911690636d61fe7090612a2390879087906004016142be565b5f604051808303815f87803b158015612a3a575f5ffd5b505af1158015612a4c573d5f5f3e3d5ffd5b50505050612a91565b60098503612a915760018201546040516306d61fe760e41b81526001600160a01b0390911690636d61fe709061101a90879087906004016142be565b505050505050565b5f612aa261056a565b90505f80612ab284860186613fc2565b9092509050612ac28383886136c3565b604051638a91b0e360e01b81526001600160a01b03871690638a91b0e39061101a908490600401613cfb565b5f612af761056a565b60010190505f80612ab284860186613fc2565b5f612b186004828486613e39565b612b21916142d1565b90505f612b318360048187613e39565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92019190915250929350612b7392508491506136289050565b612bbf5760405162461bcd60e51b815260206004820152601a60248201527f46756e6374696f6e2073656c6563746f72206e6f74207573656400000000000060448201526064016101c6565b5f612bc861056a565b6001600160e01b031984165f90815260029190910160209081526040918290208251808401909352546001600160a01b03808216808552600160a01b90920460f81b6001600160f81b03191692840192909252919250871614612c805760405162461bcd60e51b815260206004820152602a60248201527f46756e6374696f6e2073656c6563746f72206e6f74207573656420627920746860448201526934b9903430b7323632b960b11b60648201526084016101c6565b604080518082019091525f8082526020820152612c9b61056a565b6001600160e01b031985165f908152600291909101602090815260409182902083518154949092015160f81c600160a01b026001600160a81b03199094166001600160a01b03928316179390931790925551638a91b0e360e01b815290871690638a91b0e39061101a908590600401613cfb565b612d245f5f51602061435e5f395f51905f5255565b604051638a91b0e360e01b81526001600160a01b03841690638a91b0e390612d5290859085906004016142be565b5f604051808303815f87803b158015612d69575f5ffd5b505af1158015612d7b573d5f5f3e3d5ffd5b50505050505050565b5f51602061437e5f395f51905f52600884148015612dae575080546001600160a01b038681169116145b15612e16578054604051638a91b0e360e01b81526001600160a01b0390911690638a91b0e390612de490869086906004016142be565b5f604051808303815f87803b158015612dfb575f5ffd5b505af1158015612e0d573d5f5f3e3d5ffd5b50505050612e6e565b600984148015612e35575060018101546001600160a01b038681169116145b1561241a576001810154604051638a91b0e360e01b81526001600160a01b0390911690638a91b0e390612de490869086906004016142be565b610a0d5f85613660565b5f60016001600160a01b0383161480159061209b5750506001600160a01b039081165f90815260209290925260409091205416151590565b365f833580850160208587010360208201945081359350808460051b8301118360401c1715612ee65763ba597e7e5f526004601cfd5b8315612f3c578392505b6001830392508260051b850135915081850160408101358082018381358201118460408501111782861782351760401c1715612f335763ba597e7e5f526004601cfd5b50505082612ef0575b5050509250929050565b606081806001600160401b03811115612f6157612f61613959565b604051908082528060200260200182016040528015612f9457816020015b6060815260200190600190039081612f7f5790505b5091505f5b818110156130155736858583818110612fb457612fb4614160565b9050602002810190612fc69190614307565b9050612fef612fd86020830183614325565b6020830135612fea604085018561400e565b613198565b84838151811061300157613001614160565b602090810291909101015250600101612f99565b505092915050565b606081806001600160401b0381111561303857613038613959565b60405190808252806020026020018201604052801561306b57816020015b60608152602001906001900390816130565790505b5091505f5b81811015613015573685858381811061308b5761308b614160565b905060200281019061309d9190614307565b90505f6130c76130b06020840184614325565b60208401356130c2604086018661400e565b6131cb565b8685815181106130d9576130d9614160565b602090810291909101015290508061313e577fe723f28f104e46b47fd3531f3608374ac226bcf3ddda334a23a266453e0efdb78386858151811061311f5761311f614160565b6020026020010151604051613135929190614174565b60405180910390a15b5050600101613070565b5f8036816131596014828789613e39565b61316291613e60565b60601c9350613175603460148789613e39565b61317e91614340565b925061318d8560348189613e39565b949793965094505050565b604051818382375f38838387895af16131b3573d5f823e3d81fd5b3d8152602081013d5f823e3d01604052949350505050565b6040515f90828482375f388483888a5af191503d8152602081013d5f823e3d81016040525094509492505050565b604051818382375f388383875af4613213573d5f823e3d81fd5b3d8152602081013d5f823e3d016040529392505050565b6040515f90828482375f388483885af491503d8152602081013d5f823e3d810160405250935093915050565b6122be81613796565b5f61326861056a565b90505f6132768260016137b5565b90505b6001600160a01b03811660011461333e57604051638a91b0e360e01b8152602060048201525f60248201526001600160a01b03821690638a91b0e3906044015f604051808303815f87803b1580156132cf575f5ffd5b505af19250505080156132e0575060015b61332d57604080516001600160a01b0383168152602081018290525f8183015290517f6c31ee2929752d85a6dc461efcf817aa81394aff41db1856ebfd71679fffc5709181900360600190a15b61333782826137b5565b9050613279565b61227782613808565b5f61335061056a565b60010190505f61336a6001836137b590919063ffffffff16565b90505b6001600160a01b03811660011461333e57604051638a91b0e360e01b8152602060048201525f60248201526001600160a01b03821690638a91b0e3906044015f604051808303815f87803b1580156133c3575f5ffd5b505af19250505080156133d4575060015b61342157604080516001600160a01b0383168152602081018290525f8183015290517ffdea4600cf09065ff861064d4cd43cde3fae2134d9fbe6d66fd77cc67135c8829181900360600190a15b61342b82826137b5565b905061336d565b6001600160a01b038116156122be57604051638a91b0e360e01b8152602060048201525f60248201526001600160a01b03821690638a91b0e3906044015f604051808303815f87803b158015613486575f5ffd5b505af1925050508015613497575060015b6134e457604080516001600160a01b0383168152602081018290525f8183015290517f57af23cbd8e148da6020d15e1ff9fb3c531aa9003d6bab6915013a7d8fd032369181900360600190a15b6122be5f5f51602061435e5f395f51905f5255565b60015f908152602082905260409020546001600160a01b031615613530576040516329e42f3360e11b815260040160405180910390fd5b60015f818152602092909252604090912080546001600160a01b0319169091179055565b6001600160a01b038116158061357357506001600160a01b0381166001145b1561359c57604051637c84ecfb60e01b81526001600160a01b03821660048201526024016101c6565b6001600160a01b038181165f9081526020849052604090205416156135df57604051631034f46960e21b81526001600160a01b03821660048201526024016101c6565b60015f818152602093909352604080842080546001600160a01b039485168087529286208054959091166001600160a01b03199586161790559190935280549091169091179055565b5f5f61363261056a565b6001600160e01b03199093165f908152600293909301602052505060409020546001600160a01b0316151590565b5f51602061437e5f395f51905f5260071982016136975780546001600160a01b0384166001600160a01b0319909116178155505050565b6009820361241a576001810180546001600160a01b0385166001600160a01b0319909116179055505050565b6001600160a01b03811615806136e257506001600160a01b0381166001145b1561370b57604051637c84ecfb60e01b81526001600160a01b03831660048201526024016101c6565b6001600160a01b038281165f9081526020859052604090205481169082161461375257604051637c84ecfb60e01b81526001600160a01b03821660048201526024016101c6565b6001600160a01b039081165f8181526020949094526040808520805494841686529085208054949093166001600160a01b0319948516179092559092528154169055565b5f6a636f6e736f6c652e6c6f6790505f5f835160208501845afa505050565b5f6001600160a01b0382166137e857604051637c84ecfb60e01b81526001600160a01b03831660048201526024016101c6565b506001600160a01b039081165f9081526020929092526040909120541690565b60015f908152602082905260409020546001600160a01b03165b6001600160a01b03811615612277576001600160a01b039081165f90815260208390526040902080546001600160a01b0319811690915516613822565b6001600160a01b03811681146122be575f5ffd5b80356120808161385f565b5f5f83601f84011261388e575f5ffd5b5081356001600160401b038111156138a4575f5ffd5b602083019150836020828501011115610a33575f5ffd5b5f5f5f5f606085870312156138ce575f5ffd5b8435935060208501356138e08161385f565b925060408501356001600160401b038111156138fa575f5ffd5b6139068782880161387e565b95989497509550505050565b5f5f5f60408486031215613924575f5ffd5b8335925060208401356001600160401b03811115613940575f5ffd5b61394c8682870161387e565b9497909650939450505050565b634e487b7160e01b5f52604160045260245ffd5b60405161012081016001600160401b038111828210171561399057613990613959565b60405290565b604051601f8201601f191681016001600160401b03811182821017156139be576139be613959565b604052919050565b5f6001600160401b038211156139de576139de613959565b50601f01601f191660200190565b5f82601f8301126139fb575f5ffd5b8135613a0e613a09826139c6565b613996565b818152846020838601011115613a22575f5ffd5b816020850160208301375f918101602001919091529392505050565b5f5f5f60608486031215613a50575f5ffd5b83356001600160401b03811115613a65575f5ffd5b84016101208187031215613a77575f5ffd5b613a7f61396d565b613a8882613873565b81526020828101359082015260408201356001600160401b03811115613aac575f5ffd5b613ab8888285016139ec565b60408301525060608201356001600160401b03811115613ad6575f5ffd5b613ae2888285016139ec565b6060830152506080828101359082015260a0808301359082015260c0808301359082015260e08201356001600160401b03811115613b1e575f5ffd5b613b2a888285016139ec565b60e0830152506101008201356001600160401b03811115613b49575f5ffd5b613b55888285016139ec565b610100830152509660208601359650604090950135949350505050565b5f60208284031215613b82575f5ffd5b5035919050565b5f5f60208385031215613b9a575f5ffd5b82356001600160401b03811115613baf575f5ffd5b613bbb8582860161387e565b90969095509350505050565b5f5f60408385031215613bd8575f5ffd5b8235613be38161385f565b946020939093013593505050565b604080825283519082018190525f9060208501906060840190835b81811015613c335783516001600160a01b0316835260209384019390920191600101613c0c565b50506001600160a01b039490941660209390930192909252509092915050565b602080825282518282018190525f918401906040840190835b81811015613c8a578351835260209384019390920191600101613c6c565b509095945050505050565b5f5f60408385031215613ca6575f5ffd5b82356001600160401b03811115613cbb575f5ffd5b83016101208186031215613be3575f5ffd5b5f81518084528060208401602086015e5f602082860101526020601f19601f83011685010191505092915050565b602081525f61209b6020830184613ccd565b5f602082016020835280845180835260408501915060408160051b8601019250602086015f5b82811015613d6457603f19878603018452613d4f858351613ccd565b94506020938401939190910190600101613d33565b50929695505050505050565b5f5f5f5f60608587031215613d83575f5ffd5b8435613d8e8161385f565b935060208501356001600160401b03811115613da8575f5ffd5b8501601f81018713613db8575f5ffd5b80356001600160401b03811115613dcd575f5ffd5b8760208260051b8401011115613de1575f5ffd5b60209190910193509150604085013560ff81168114613dfe575f5ffd5b939692955090935050565b6001600160e01b0319811681146122be575f5ffd5b5f60208284031215613e2e575f5ffd5b813561209b81613e09565b5f5f85851115613e47575f5ffd5b83861115613e53575f5ffd5b5050820193919092039150565b80356bffffffffffffffffffffffff198116906014841015612372576bffffffffffffffffffffffff1960149490940360031b84901b1690921692915050565b60018060a01b0384168152826020820152606060408201525f613ec66060830184613ccd565b95945050505050565b5f60208284031215613edf575f5ffd5b815161209b81613e09565b80516001600160a01b03168252602081015160208301525f60408201516101206040850152613f1d610120850182613ccd565b905060608301518482036060860152613f368282613ccd565b9150506080830151608085015260a083015160a085015260c083015160c085015260e083015184820360e0860152613f6e8282613ccd565b915050610100830151848203610100860152613ec68282613ccd565b604081525f613f9c6040830185613eea565b90508260208301529392505050565b5f60208284031215613fbb575f5ffd5b5051919050565b5f5f60408385031215613fd3575f5ffd5b8235613fde8161385f565b915060208301356001600160401b03811115613ff8575f5ffd5b614004858286016139ec565b9150509250929050565b5f5f8335601e19843603018112614023575f5ffd5b8301803591506001600160401b0382111561403c575f5ffd5b602001915036819003821315610a33575f5ffd5b818382375f9101908152919050565b5f6020828403121561406f575f5ffd5b8151801515811461209b575f5ffd5b81835281816020850137505f828201602090810191909152601f909101601f19169091010190565b60018060a01b0385168152836020820152606060408201525f61071b60608301848661407e565b5f82601f8301126140dc575f5ffd5b81516140ea613a09826139c6565b8181528460208386010111156140fe575f5ffd5b8160208501602083015e5f918101602001919091529392505050565b5f6020828403121561412a575f5ffd5b81516001600160401b0381111561413f575f5ffd5b610639848285016140cd565b6001600160f81b031991909116815260200190565b634e487b7160e01b5f52603260045260245ffd5b828152604060208201525f6106396040830184613ccd565b60ff8416815260406020820181905281018290525f8360608301825b858110156141d85782356141bb8161385f565b6001600160a01b03168252602092830192909101906001016141a8565b509695505050505050565b5f5f604083850312156141f4575f5ffd5b8251915060208301516001600160401b03811115614210575f5ffd5b614004858286016140cd565b604081525f61422e6040830185613ccd565b905060018060a01b03831660208301529392505050565b606081525f6142576060830186613eea565b60208301949094525060400152919050565b634e487b7160e01b5f52601160045260245ffd5b8181038181111561059f5761059f614269565b5f82518060208501845e5f920191825250919050565b5f600182016142b7576142b7614269565b5060010190565b602081525f61063960208301848661407e565b80356001600160e01b03198116906004841015612372576001600160e01b031960049490940360031b84901b1690921692915050565b5f8235605e1983360301811261431b575f5ffd5b9190910192915050565b5f60208284031215614335575f5ffd5b813561209b8161385f565b8035602083101561059f575f19602084900360031b1b169291505056fecd97a6611018468306afd07ac8b14141bc76df8b844b3bcba1768d81e4598200088e45215d3756b04bd240e41d75700a696139d5b53082481ffc3914e4840000a26469706673582212200ecbb5c01a4fb76482ae9158c584ef0c9c061949b52b095e41d0e02516c2a14064736f6c634300081c0033";
    bytes public constant ERC7579_BOOTSTRAP_BYTECODE =
        hex"6080604052348015600e575f5ffd5b506112a48061001c5f395ff3fe60806040526004361061007e575f3560e01c80636b0d5cc41161004d5780636b0d5cc414610271578063b0d691fe14610290578063ea5f61d0146102b2578063eac9b20d146102d157610085565b80630a664dba146101c85780635e87556d146101f95780635faac46b14610225578063642219af1461025257610085565b3661008557005b5f3560e01c63bc197c81811463f23a6e6182141763150b7a02821417156100b057806020526020603cf35b505f80356001600160e01b03191681525f51602061124f5f395f51905f526020526040902080546001600160a01b03811690600160a01b900460f81b8161011c57604051632464e76d60e11b81526001600160e01b03195f351660048201526024015b60405180910390fd5b61012a81607f60f91b610384565b1561017b5760408051368101909152365f823760408051601481019091523360601b90525f803660140183865afa905061016a3d60408051918201905290565b3d5f823e81610177573d81fd5b3d81f35b610185815f610384565b156101c65760408051368101909152365f823760408051601481019091523360601b90525f80366014018382875af1905061016a3d60408051918201905290565b005b3480156101d3575f5ffd5b506101dc61039b565b6040516001600160a01b0390911681526020015b60405180910390f35b348015610204575f5ffd5b50610218610213366004610d11565b6103c9565b6040516101f09190610e0c565b348015610230575f5ffd5b5061024461023f366004610e35565b610452565b6040516101f0929190610e5f565b34801561025d575f5ffd5b506101c661026c366004610d11565b61048e565b34801561027c575f5ffd5b506101c661028b366004610ec1565b6106d4565b34801561029b575f5ffd5b506f71727de22e5e9d8baf0edac6f37da0326101dc565b3480156102bd575f5ffd5b506102446102cc366004610e35565b6106e4565b3480156102dc575f5ffd5b506103566102eb366004610f41565b6040805180820182525f80825260209182018190526001600160e01b03199390931683525f51602061124f5f395f51905f528152918190208151808301909252546001600160a01b0381168252600160a01b900460f81b6001600160f81b0319169181019190915290565b6040805182516001600160a01b031681526020928301516001600160f81b03191692810192909252016101f0565b6001600160f81b0319828116908216145b92915050565b5f6103c47fcd97a6611018468306afd07ac8b14141bc76df8b844b3bcba1768d81e45982005490565b905090565b606030306001600160a01b031663642219af8a8a8a8a8a8a8a6040516024016103f89796959493929190611071565b604051602081830303815290604052915060e01b6020820180516001600160e01b0383818316178352505050506040516020016104369291906110ce565b6040516020818303038152906040529050979650505050505050565b60605f7fe3a55571e8f241b58442871487cc151a8cb048bb4ad24e833467f724ec89a90061048181868661070f565b92509250505b9250929050565b5f5b8681101561050c576105048888838181106104ad576104ad6110f9565b90506020028101906104bf919061110d565b6104cd90602081019061112b565b8989848181106104df576104df6110f9565b90506020028101906104f1919061110d565b6104ff906020810190611146565b6108b7565b600101610490565b505f5b848110156105cc575f86868381811061052a5761052a6110f9565b905060200281019061053c919061110d565b61054a90602081019061112b565b6001600160a01b0316146105c4576105c486868381811061056d5761056d6110f9565b905060200281019061057f919061110d565b61058d90602081019061112b565b87878481811061059f5761059f6110f9565b90506020028101906105b1919061110d565b6105bf906020810190611146565b610939565b60010161050f565b505f6105db602085018561112b565b6001600160a01b03161461060b5761060b6105f9602085018561112b565b6106066020860186611146565b610964565b5f5b818110156106ca575f838383818110610628576106286110f9565b905060200281019061063a919061110d565b61064890602081019061112b565b6001600160a01b0316146106c2576106c283838381811061066b5761066b6110f9565b905060200281019061067d919061110d565b61068b90602081019061112b565b84848481811061069d5761069d6110f9565b90506020028101906106af919061110d565b6106bd906020810190611146565b6109ea565b60010161060d565b5050505050505050565b6106df8383836108b7565b505050565b60605f7fe3a55571e8f241b58442871487cc151a8cb048bb4ad24e833467f724ec89a9016104818186865b60605f6001600160a01b03841660011480159061073357506107318585610b90565b155b1561075c57604051637c84ecfb60e01b81526001600160a01b0385166004820152602401610113565b825f0361077c5760405163f725081760e01b815260040160405180910390fd5b8267ffffffffffffffff81111561079557610795611189565b6040519080825280602002602001820160405280156107be578160200160208202803683370190505b506001600160a01b038086165f90815260208890526040812054929450911691505b6001600160a01b0382161580159061080257506001600160a01b038216600114155b801561080d57508381105b156108665781838281518110610825576108256110f9565b6001600160a01b039283166020918202929092018101919091529281165f90815292879052604090922054909116908061085e816111b1565b9150506107e0565b6001600160a01b03821660011480159061087f57505f81115b156108ab57826108906001836111c9565b815181106108a0576108a06110f9565b602002602001015191505b80835250935093915050565b7fe3a55571e8f241b58442871487cc151a8cb048bb4ad24e833467f724ec89a9006108e28185610bca565b6040516306d61fe760e41b81526001600160a01b03851690636d61fe709061091090869086906004016111dc565b5f604051808303815f87803b158015610927575f5ffd5b505af11580156106ca573d5f5f3e3d5ffd5b7fe3a55571e8f241b58442871487cc151a8cb048bb4ad24e833467f724ec89a9016108e28185610bca565b5f61098d7fcd97a6611018468306afd07ac8b14141bc76df8b844b3bcba1768d81e45982005490565b90506001600160a01b038116156109c25760405163741cbe0360e01b81526001600160a01b0382166004820152602401610113565b6108e2847fcd97a6611018468306afd07ac8b14141bc76df8b844b3bcba1768d81e459820055565b5f6109f860048284866111ef565b610a0191611216565b90505f83836004818110610a1757610a176110f9565b909101356001600160f81b03191691505f9050610a3784600581886111ef565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f92019190915250929350610a799250859150610c9e9050565b15610ac65760405162461bcd60e51b815260206004820152601e60248201527f46756e6374696f6e2073656c6563746f7220616c7265616479207573656400006044820152606401610113565b6040805180820182526001600160a01b038881168083526001600160f81b0319861660208085019182526001600160e01b031989165f9081525f51602061124f5f395f51905f5290915285902093518454915160f81c600160a01b026001600160a81b03199092169316929092179190911790915590516306d61fe760e41b8152636d61fe7090610b5b908490600401610e0c565b5f604051808303815f87803b158015610b72575f5ffd5b505af1158015610b84573d5f5f3e3d5ffd5b50505050505050505050565b5f60016001600160a01b03831614801590610bc357506001600160a01b038281165f908152602085905260409020541615155b9392505050565b6001600160a01b0381161580610be957506001600160a01b0381166001145b15610c1257604051637c84ecfb60e01b81526001600160a01b0382166004820152602401610113565b6001600160a01b038181165f908152602084905260409020541615610c5557604051631034f46960e21b81526001600160a01b0382166004820152602401610113565b60015f818152602093909352604080842080546001600160a01b039485168087529286208054959091166001600160a01b03199586161790559190935280549091169091179055565b6001600160e01b0319165f9081525f51602061124f5f395f51905f5260205260409020546001600160a01b0316151590565b5f5f83601f840112610ce0575f5ffd5b50813567ffffffffffffffff811115610cf7575f5ffd5b6020830191508360208260051b8501011115610487575f5ffd5b5f5f5f5f5f5f5f6080888a031215610d27575f5ffd5b873567ffffffffffffffff811115610d3d575f5ffd5b610d498a828b01610cd0565b909850965050602088013567ffffffffffffffff811115610d68575f5ffd5b610d748a828b01610cd0565b909650945050604088013567ffffffffffffffff811115610d93575f5ffd5b88016040818b031215610da4575f5ffd5b9250606088013567ffffffffffffffff811115610dbf575f5ffd5b610dcb8a828b01610cd0565b989b979a50959850939692959293505050565b5f81518084528060208401602086015e5f602082860101526020601f19601f83011685010191505092915050565b602081525f610bc36020830184610dde565b6001600160a01b0381168114610e32575f5ffd5b50565b5f5f60408385031215610e46575f5ffd5b8235610e5181610e1e565b946020939093013593505050565b604080825283519082018190525f9060208501906060840190835b81811015610ea15783516001600160a01b0316835260209384019390920191600101610e7a565b50506001600160a01b039490941660209390930192909252509092915050565b5f5f5f60408486031215610ed3575f5ffd5b8335610ede81610e1e565b9250602084013567ffffffffffffffff811115610ef9575f5ffd5b8401601f81018613610f09575f5ffd5b803567ffffffffffffffff811115610f1f575f5ffd5b866020828401011115610f30575f5ffd5b939660209190910195509293505050565b5f60208284031215610f51575f5ffd5b81356001600160e01b031981168114610bc3575f5ffd5b81835281816020850137505f828201602090810191909152601f909101601f19169091010190565b5f8135610f9c81610e1e565b6001600160a01b03168352602082013536839003601e19018112610fbe575f5ffd5b820160208101903567ffffffffffffffff811115610fda575f5ffd5b803603821315610fe8575f5ffd5b60406020860152610ffd604086018284610f68565b95945050505050565b5f8383855260208501945060208460051b820101835f5b8681101561106557838303601f19018852813536879003603e19018112611042575f5ffd5b61104e84888301610f90565b6020998a019990945092909201915060010161101d565b50909695505050505050565b608081525f61108460808301898b611006565b828103602084015261109781888a611006565b905082810360408401526110ab8187610f90565b905082810360608401526110c0818587611006565b9a9950505050505050505050565b6001600160a01b03831681526040602082018190525f906110f190830184610dde565b949350505050565b634e487b7160e01b5f52603260045260245ffd5b5f8235603e19833603018112611121575f5ffd5b9190910192915050565b5f6020828403121561113b575f5ffd5b8135610bc381610e1e565b5f5f8335601e1984360301811261115b575f5ffd5b83018035915067ffffffffffffffff821115611175575f5ffd5b602001915036819003821315610487575f5ffd5b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b5f600182016111c2576111c261119d565b5060010190565b818103818111156103955761039561119d565b602081525f6110f1602083018486610f68565b5f5f858511156111fd575f5ffd5b83861115611209575f5ffd5b5050820193919092039150565b80356001600160e01b03198116906004841015611247576001600160e01b0319600485900360031b81901b82161691505b509291505056fee3a55571e8f241b58442871487cc151a8cb048bb4ad24e833467f724ec89a902a264697066735822122072b04b2f972cc253a90e875921f15eb7f82b8e0a5d58d5743d0eca74f391c67364736f6c634300081c0033";
    bytes public constant ERC7579_RHINESTONE_TRAMPOLOINE_BYTECODE =
        hex"6080604052348015600e575f5ffd5b5061081d8061001c5f395ff3fe608060405260043610610058575f3560e01c80630a664dba146101b55780635faac46b146101e6578063b0d691fe14610213578063e1c7392a14610235578063ea5f61d014610249578063eac9b20d146102685761005f565b3661005f57005b5f3560e01c63bc197c81811463f23a6e6182141763150b7a028214171561008a57806020526020603cf35b505f80356001600160e01b03191681527ff88ce1fdb7fb1cbd3282e49729100fa3f2d6ee9f797961fe4fb1871cea89ea046020526040902080546001600160a01b03811690600160a01b900460f81b8161010957604051632464e76d60e11b81526001600160e01b03195f351660048201526024015b60405180910390fd5b61011781607f60f91b61032e565b156101685760408051368101909152365f823760408051601481019091523360601b90525f803660140183865afa90506101573d60408051918201905290565b3d5f823e81610164573d81fd5b3d81f35b610172815f61032e565b156101b35760408051368101909152365f823760408051601481019091523360601b90525f80366014018382875af190506101573d60408051918201905290565b005b3480156101c0575f5ffd5b506101c9610345565b6040516001600160a01b0390911681526020015b60405180910390f35b3480156101f1575f5ffd5b5061020561020036600461068d565b610373565b6040516101dd9291906106c2565b34801561021e575f5ffd5b506f71727de22e5e9d8baf0edac6f37da0326101c9565b348015610240575f5ffd5b506101b36103ae565b348015610254575f5ffd5b5061020561026336600461068d565b610480565b348015610273575f5ffd5b50610300610282366004610724565b6040805180820182525f80825260209182018190526001600160e01b03199390931683527ff88ce1fdb7fb1cbd3282e49729100fa3f2d6ee9f797961fe4fb1871cea89ea048152918190208151808301909252546001600160a01b0381168252600160a01b900460f81b6001600160f81b0319169181019190915290565b6040805182516001600160a01b031681526020928301516001600160f81b03191692810192909252016101dd565b6001600160f81b0319828116908216145b92915050565b5f61036e7f36e05829dd1b9a4411d96a3549582172d7f071c1c0db5c573fcf94eb284316085490565b905090565b60605f7ff88ce1fdb7fb1cbd3282e49729100fa3f2d6ee9f797961fe4fb1871cea89ea026103a28186866104ab565b92509250509250929050565b6103ea7334dedac925c00d63bd91800ff821e535fe59d6f57f36e05829dd1b9a4411d96a3549582172d7f071c1c0db5c573fcf94eb2843160855565b60408051737066f491ce8b5f782f315dfbd549f2107a32641360611b60208201528151601481830301815260348201928390526306d61fe760e41b9092527334dedac925c00d63bd91800ff821e535fe59d6f591636d61fe7091610451919060380161074b565b5f604051808303815f87803b158015610468575f5ffd5b505af115801561047a573d5f5f3e3d5ffd5b50505050565b60605f7ff88ce1fdb7fb1cbd3282e49729100fa3f2d6ee9f797961fe4fb1871cea89ea036103a28186865b60605f6001600160a01b0384166001148015906104cf57506104cd8585610653565b155b156104f857604051637c84ecfb60e01b81526001600160a01b0385166004820152602401610100565b825f036105185760405163f725081760e01b815260040160405180910390fd5b8267ffffffffffffffff81111561053157610531610780565b60405190808252806020026020018201604052801561055a578160200160208202803683370190505b506001600160a01b038086165f90815260208890526040812054929450911691505b6001600160a01b0382161580159061059e57506001600160a01b038216600114155b80156105a957508381105b1561060257818382815181106105c1576105c1610794565b6001600160a01b039283166020918202929092018101919091529281165f9081529287905260409092205490911690806105fa816107bc565b91505061057c565b6001600160a01b03821660011480159061061b57505f81115b15610647578261062c6001836107d4565b8151811061063c5761063c610794565b602002602001015191505b80835250935093915050565b5f60016001600160a01b0383161480159061068657506001600160a01b038281165f908152602085905260409020541615155b9392505050565b5f5f6040838503121561069e575f5ffd5b82356001600160a01b03811681146106b4575f5ffd5b946020939093013593505050565b604080825283519082018190525f9060208501906060840190835b818110156107045783516001600160a01b03168352602093840193909201916001016106dd565b50506001600160a01b039490941660209390930192909252509092915050565b5f60208284031215610734575f5ffd5b81356001600160e01b031981168114610686575f5ffd5b602081525f82518060208401528060208501604085015e5f604082850101526040601f19601f83011684010191505092915050565b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52603260045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b5f600182016107cd576107cd6107a8565b5060010190565b8181038181111561033f5761033f6107a856fea26469706673582212208b8d179eb9f1d514092184d86650903af803b01f367d0d2440620538d93230ac64736f6c634300081b0033";
    bytes public constant MSAPROXY_BYTECODE =
        hex"608060405260405161045a38038061045a833981016040819052610022916102a7565b61002a61003b565b610034828261009c565b50506103ab565b5f60ff1961006a60017ff63b257b7881773a84d328ab92140e19ab791f7b439c76ba9837aa0d6ad30af0610376565b60405160200161007c91815260200190565b604051602081830303815290604052805190602001201690506001815d50565b6100a5826100fa565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b905f90a28051156100ee576100e98282610175565b505050565b6100f66101ea565b5050565b806001600160a01b03163b5f0361013457604051634c9c8ce360e01b81526001600160a01b03821660048201526024015b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80546001600160a01b0319166001600160a01b0392909216919091179055565b60605f5f846001600160a01b0316846040516101919190610395565b5f60405180830381855af49150503d805f81146101c9576040519150601f19603f3d011682016040523d82523d5f602084013e6101ce565b606091505b5090925090506101df85838361020b565b925050505b92915050565b34156102095760405163b398979f60e01b815260040160405180910390fd5b565b6060826102205761021b8261026a565b610263565b815115801561023757506001600160a01b0384163b155b1561026057604051639996b31560e01b81526001600160a01b038516600482015260240161012b565b50805b9392505050565b80511561027a5780518082602001fd5b60405163d6bda27560e01b815260040160405180910390fd5b634e487b7160e01b5f52604160045260245ffd5b5f5f604083850312156102b8575f5ffd5b82516001600160a01b03811681146102ce575f5ffd5b60208401519092506001600160401b038111156102e9575f5ffd5b8301601f810185136102f9575f5ffd5b80516001600160401b0381111561031257610312610293565b604051601f8201601f19908116603f011681016001600160401b038111828210171561034057610340610293565b604052818152828201602001871015610357575f5ffd5b8160208401602083015e5f602083830101528093505050509250929050565b818103818111156101e457634e487b7160e01b5f52601160045260245ffd5b5f82518060208501845e5f920191825250919050565b60a3806103b75f395ff3fe6080604052600a600c565b005b60186014601a565b6050565b565b5f604b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b905090565b365f5f375f5f365f845af43d5f5f3e8080156069573d5ff35b3d5ffdfea2646970667358221220917b117bd639a5c1424676eeebd5c60b66b5c82bd16f9df87d1255745f0c121964736f6c634300081c0033";
}
